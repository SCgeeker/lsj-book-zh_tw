<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preface | learning statistics with jamovi</title>
<meta name="author" content="Danielle J. Navarro &amp; David R. Foxcroft">
<meta name="description" content="Preface to Version 0.75 In this version we have updated the figures, images and text to maintain compatibility with latest versions of jamovi (2.2); many thanks to Peter Fisk for his help with...">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="Preface | learning statistics with jamovi">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/bookcover_logo.png">
<meta property="og:description" content="Preface to Version 0.75 In this version we have updated the figures, images and text to maintain compatibility with latest versions of jamovi (2.2); many thanks to Peter Fisk for his help with...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Preface | learning statistics with jamovi">
<meta name="twitter:description" content="Preface to Version 0.75 In this version we have updated the figures, images and text to maintain compatibility with latest versions of jamovi (2.2); many thanks to Peter Fisk for his help with...">
<meta name="twitter:image" content="/images/bookcover_logo.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><style>

    .enlarge-image {
        transition: transform .2s ease-out;
        cursor: pointer;
    }

    .enlarge-image:hover {
        transform: scale(1.8);
        display: block;
        background: #eee;
        border: 4px solid #27466C; 
        position: relative;
        float: middle;
        z-index: 999;
    }
    .enlarge-image:hover .inline-figure, .figure {
      margin:  1rem 0rem 1rem 0rem; 
      padding: 1rem 0rem 1rem 2rem;
    }

    </style>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script type="text/x-mathjax-config"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title=""><span style="font-family:Garamond;font-weight:700;">learning statistics with jamovi</span></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li><a class="active" href="preface.html">Preface</a></li>
<li><a class="" href="why-do-we-learn-statistics.html"><span class="header-section-number">1</span> Why do we learn statistics</a></li>
<li><a class="" href="a-brief-introduction-to-research-design.html"><span class="header-section-number">2</span> A brief introduction to research design</a></li>
<li><a class="" href="getting-started-with-jamovi.html"><span class="header-section-number">3</span> Getting started with jamovi</a></li>
<li><a class="" href="descriptive-statistics.html"><span class="header-section-number">4</span> Descriptive statistics</a></li>
<li><a class="" href="drawing-graphs.html"><span class="header-section-number">5</span> Drawing graphs</a></li>
<li><a class="" href="pragmatic-matters.html"><span class="header-section-number">6</span> Pragmatic matters</a></li>
<li><a class="" href="prelude-to-part-iv.html">Prelude to Part IV</a></li>
<li><a class="" href="introduction-to-probability.html"><span class="header-section-number">7</span> Introduction to probability</a></li>
<li><a class="" href="estimating-unkown-quantities-from-a-sample.html"><span class="header-section-number">8</span> Estimating unkown quantities from a sample</a></li>
<li><a class="" href="hypothesis-testing.html"><span class="header-section-number">9</span> Hypothesis testing</a></li>
<li><a class="" href="categorical-data-analysis.html"><span class="header-section-number">10</span> Categorical data analysis</a></li>
<li><a class="" href="comparing-two-means.html"><span class="header-section-number">11</span> Comparing two means</a></li>
<li><a class="" href="correlation-and-linear-regression.html"><span class="header-section-number">12</span> Correlation and linear regression</a></li>
<li><a class="" href="comparing-several-means-one-way-anova.html"><span class="header-section-number">13</span> Comparing several means (one-way ANOVA)</a></li>
<li><a class="" href="factorial-anova.html"><span class="header-section-number">14</span> Factorial ANOVA</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="preface" class="section level1 unnumbered">
<h1>Preface<a class="anchor" aria-label="anchor" href="#preface"><i class="fas fa-link"></i></a>
</h1>
<div id="preface-to-version-0.75" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.75<a class="anchor" aria-label="anchor" href="#preface-to-version-0.75"><i class="fas fa-link"></i></a>
</h2>
<p>In this version we have updated the figures, images and text to maintain
compatibility with latest versions of jamovi (2.2); many thanks to Peter
Fisk for his help with this. Also tweaked and corrected are a few
sections where improvements have been suggested by readers. This has
mainly included fixing typos but also in places correcting conceptual
detail, for example we have updated the information on kurtosis to
reflect that it isn’t really about distribution “pointiness” and instead
kurtosis is about whether data distributions have thin or fat tails.
Thanks to all the readers who made suggestions, either through
contacting me by email, or raising an issue on github.</p>
<p><em>David Foxcroft<br>
February 9th, 2022</em></p>
</div>
<div id="preface-to-version-0.70" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.70<a class="anchor" aria-label="anchor" href="#preface-to-version-0.70"><i class="fas fa-link"></i></a>
</h2>
<p>This update from version 0.65 introduces some new analyses. In the ANOVA
chapters we have added sections on repeated measures ANOVA and analysis
of covariance (ANCOVA). In a new chapter we have introduced Factor
Analysis and related techniques. Hopefully the style of this new
material is consistent with the rest of the book, though eagle-eyed
readers might spot a bit more of an emphasis on conceptual and practical
explanations, and a bit less algebra. I’m not sure this is a good thing,
and might add the algebra in a bit later. But it reflects both my
approach to understanding and teaching statistics, and also some
feedback I have received from students on a course I teach. In line with
this, I have also been through the rest of the book and tried to
separate out some of the algebra by putting it into a box or frame. It’s
not that this stuff is not important or useful, but for some students
they may wish to skip over it and therefore the boxing of these parts
should help some readers.</p>
<p>With this version I am very grateful to comments and feedback received
from my students and colleagues, notably Wakefield Morys-Carter, and
also to numerous people all over the world who have sent in small
suggestions and corrections - much appreciated, and keep them coming!
One pretty neat new feature is that the example data files for the book
can now be loaded into jamovi as an add-on module - thanks to Jonathon
Love for helping with that.</p>
<p><em>David Foxcroft<br>
February 1st, 2019</em></p>
</div>
<div id="preface-to-version-0.65" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.65<a class="anchor" aria-label="anchor" href="#preface-to-version-0.65"><i class="fas fa-link"></i></a>
</h2>
<p>In this adaptation of the excellent ‘Learning statistics with R’, by
Danielle Navarro, we have replaced the statistical software used for the
analyses and examples with jamovi. Although R is a powerful statistical
programming language, it is not the first choice for every instructor
and student at the beginning of their statistical learning. Some
instructors and students tend to prefer the point-and-click style of
software, and that’s where jamovi comes in. jamovi is software that aims
to simplify two aspects of using R. It offers a point-and-click
graphical user interface (GUI), and it also provides functions that
combine the capabilities of many others, bringing a more SPSS- or
SAS-like method of programming to R. Importantly, jamovi will always be
free and open - that’s one of its core values - because jamovi is made
by the scientific community, for the scientific community.</p>
<p>With this version I am very grateful for the help of others who have
read through drafts and provided excellent suggestions and corrections,
particularly Dr David Emery and Kirsty Walter.</p>
<p><em>David Foxcroft<br>
July 1st, 2018</em></p>
</div>
<div id="preface-to-version-0.6" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.6<a class="anchor" aria-label="anchor" href="#preface-to-version-0.6"><i class="fas fa-link"></i></a>
</h2>
<p>The book hasn’t changed much since 2015 when I released Version 0.5 –
it’s probably fair to say that I’ve changed more than it has. I moved
from Adelaide to Sydney in 2016 and my teaching profile at UNSW is
different to what it was at Adelaide, and I haven’t really had a chance
to work on it since arriving here! It’s a little strange looking back at
this actually. A few quick comments…</p>
<ul>
<li>Weirdly, the book consistently misgenders me, but I suppose I have
only myself to blame for that one :-) There’s now a brief footnote
on page 12 that mentions this issue; in real life I’ve been working
through a gender affirmation process for the last two years and
mostly go by she/her pronouns. I am, however, just as lazy as I ever
was so I haven’t bothered updating the text in the book.</li>
<li>For Version 0.6 I haven’t changed much I’ve made a few minor changes
when people have pointed out typos or other errors. In particular
it’s worth noting the issue associated with the etaSquared function
in the lsr package (which isn’t really being maintained any more) in
Section 14.4. The function works fine for the simple examples in the
book, but there are definitely bugs in there that I haven’t found
time to check! So please take care with that one.</li>
<li>The biggest change really is the licensing! I’ve released it under a
Creative Commons licence (CC BY-SA 4.0, specifically), and placed
all the source files to the associated GitHub repository, if anyone
wants to adapt it.</li>
</ul>
<p>Maybe someone would like to write a version that makes use of the
tidyverse… I hear that’s become rather important to R these days :-)</p>
<p>Best,<br><em>Danielle Navarro</em></p>
</div>
<div id="preface-to-version-0.5" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.5<a class="anchor" aria-label="anchor" href="#preface-to-version-0.5"><i class="fas fa-link"></i></a>
</h2>
<p>Another year, another update. This time around, the update has focused
almost entirely on the theory sections of the book. Chapters 9, 10 and
11 have been rewritten, hopefully for the better. Along the same lines,
Chapter 17 is entirely new, and focuses on Bayesian statistics. I think
the changes have improved the book a great deal. I’ve always felt
uncomfortable about the fact that all the inferential statistics in the
book are presented from an orthodox perspective, even though I almost
always present Bayesian data analyses in my own work. Now that I’ve
managed to squeeze Bayesian methods into the book somewhere, I’m
starting to feel better about the book as a whole. I wanted to get a few
other things done in this update, but as usual I’m running into teaching
deadlines, so the update has to go out the way it is!</p>
<p><em>Danielle Navarro<br>
February 16, 2015</em></p>
</div>
<div id="preface-to-version-0.4" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.4<a class="anchor" aria-label="anchor" href="#preface-to-version-0.4"><i class="fas fa-link"></i></a>
</h2>
<p>A year has gone by since I wrote the last preface. The book has changed
in a few important ways: Chapters 3 and 4 do a better job of documenting
some of the time saving features of Rstudio, Chapters 12 and 13 now make
use of new functions in the lsr package for running chi-square tests and
t tests, and the discussion of correlations has been adapted to refer to
the new functions in the lsr package. The soft copy of 0.4 now has
better internal referencing (i.e., actual hyperlinks between sections),
though that was introduced in 0.3.1. There’s a few tweaks here and
there, and many typo corrections (thank you to everyone who pointed out
typos!), but overall 0.4 isn’t massively different from 0.3.</p>
<p>I wish I’d had more time over the last 12 months to add more content.
The absence of any discussion of repeated measures ANOVA and mixed
models more generally really does annoy me. My excuse for this lack of
progress is that my second child was born at the start of 2013, and so I
spent most of last year just trying to keep my head above water. As a
consequence, unpaid side projects like this book got sidelined in favour
of things that actually pay my salary! Things are a little calmer now,
so with any luck version 0.5 will be a bigger step forward.</p>
<p>One thing that has surprised me is the number of downloads the book
gets. I finally got some basic tracking information from the website a
couple of months ago, and (after excluding obvious robots) the book has
been averaging about 90 downloads per day. That’s encouraging: there’s
at least a few people who find the book useful!</p>
<p><em>Danielle Navarro<br>
February 4, 2014</em></p>
</div>
<div id="preface-to-version-0.3" class="section level2 unnumbered unlisted">
<h2>Preface to Version 0.3<a class="anchor" aria-label="anchor" href="#preface-to-version-0.3"><i class="fas fa-link"></i></a>
</h2>
<p>There’s a part of me that really doesn’t want to publish this book. It’s
not finished.</p>
<p>And when I say that, I mean it. The referencing is spotty at best, the
chapter summaries are just lists of section titles, there’s no index,
there are no exercises for the reader, the organisation is suboptimal,
and the coverage of topics is just not comprehensive enough for my
liking. Additionally, there are sections with content that I’m not happy
with, figures that really need to be redrawn, and I’ve had almost no
time to hunt down inconsistencies, typos, or errors. In other words,
this book is not finished. If I didn’t have a looming teaching deadline
and a baby due in a few weeks, I really wouldn’t be making this
available at all.</p>
<p>What this means is that if you are an academic looking for teaching
materials, a Ph.D. student looking to learn R, or just a member of the
general public interested in statistics, I would advise you to be
cautious. What you’re looking at is a first draft, and it may not serve
your purposes. If we were living in the days when publishing was
expensive and the internet wasn’t around, I would never consider
releasing a book in this form. The thought of someone shelling out $80
for this (which is what a commercial publisher told me it would retail
for when they offered to distribute it) makes me feel more than a little
uncomfortable. However, it’s the 21st century, so I can post the pdf on
my website for free, and I can distribute hard copies via a
print-on-demand service for less than half what a textbook publisher
would charge. And so my guilt is assuaged, and I’m willing to share!
With that in mind, you can obtain free soft copies and cheap hard copies
online, from the following webpages:</p>
<p>Soft copy:
<a href="https://www.compcogscisydney.com/learning-statistics-with-r.html">www.compcogscisydney.com/learning-statistics-with-r.html</a><br>
Hard copy:
<a href="https://www.lulu.com/content/13570633">www.lulu.com/content/13570633</a><br>
[<strong><em>Ed: these links are defunct, try this instead:
<a href="https://learningstatisticswithr.com">learningstatisticswithr.com</a></em></strong>]</p>
<p>Even so, the warning still stands: what you are looking at is Version
0.3 of a work in progress. If and when it hits Version 1.0, I would be
willing to stand behind the work and say, yes, this is a textbook that I
would encourage other people to use. At that point, I’ll probably start
shamelessly flogging the thing on the internet and generally acting like
a tool. But until that day comes, I’d like it to be made clear that I’m
really ambivalent about the work as it stands.</p>
<p>All of the above being said, there is one group of people that I can
enthusiastically endorse this book to: the psychology students taking
our undergraduate research methods classes (DRIP and DRIP:A) in 2013.
For you, this book is ideal, because it was written to accompany your
stats lectures. If a problem arises due to a shortcoming of these notes,
I can and will adapt content on the fly to fix that problem.
Effectively, you’ve got a textbook written specifically for your
classes, distributed for free (electronic copy) or at near-cost prices
(hard copy). Better yet, the notes have been tested: Version 0.1 of
these notes was used in the 2011 class, Version 0.2 was used in the 2012
class, and now you’re looking at the new and improved Version 0.3. I’m
not saying these notes are titanium plated awesomeness on a stick –
though if you wanted to say so on the student evaluation forms, then
you’re totally welcome to – because they’re not. But I am saying that
they’ve been tried out in previous years and they seem to work okay.
Besides, there’s a group of us around to troubleshoot if any problems
come up, and you can guarantee that at least one of your lecturers has
read the whole thing cover to cover!</p>
<p>Okay, with all that out of the way, I should say something about what
the book aims to be. At its core, it is an introductory statistics
textbook pitched primarily at psychology students. As such, it covers
the standard topics that you’d expect of such a book: study design,
descriptive statistics, the theory of hypothesis testing, t-tests, χ 2
tests, ANOVA and regression. However, there are also several chapters
devoted to the R statistical package, including a chapter on data
manipulation and another one on scripts and programming. Moreover, when
you look at the content presented in the book, you’ll notice a lot of
topics that are traditionally swept under the carpet when teaching
statistics to psychology students. The Bayesian/frequentist divide is
openly disussed in the probability chapter, and the disagreement between
Neyman and Fisher about hypothesis testing makes an appearance. The
difference between probability and density is discussed. A detailed
treatment of Type I, II and III sums of squares for unbalanced factorial
ANOVA is provided. And if you have a look in the Epilogue, it should be
clear that my intention is to add a lot more advanced content.</p>
<p>My reasons for pursuing this approach are pretty simple: the students
can handle it, and they even seem to enjoy it. Over the last few years
I’ve been pleasantly surprised at just how little difficulty I’ve had in
getting undergraduate psych students to learn R. It’s certainly not easy
for them, and I’ve found I need to be a little charitable in setting
marking standards, but they do eventually get there. Similarly, they
don’t seem to have a lot of problems tolerating ambiguity and complexity
in presentation of statistical ideas, as long as they are assured that
the assessment standards will be set in a fashion that is appropriate
for them. So if the students can handle it, why not teach it? The
potential gains are pretty enticing. If they learn R, the students get
access to CRAN, which is perhaps the largest and most comprehensive
library of statistical tools in existence. And if they learn about
probability theory in detail, it’s easier for them to switch from
orthodox null hypothesis testing to Bayesian methods if they want to.
Better yet, they learn data analysis skills that they can take to an
employer without being dependent on expensive and proprietary software.</p>
<p>Sadly, this book isn’t the silver bullet that makes all this possible.
It’s a work in progress, and maybe when it is finished it will be a
useful tool. One among many, I would think. There are a number of other
books that try to provide a basic introduction to statistics using R,
and I’m not arrogant enough to believe that mine is better. Still, I
rather like the book, and maybe other people will find it useful,
incomplete though it is.</p>
<p><em>Danielle Navarro<br>
January 13, 2013</em></p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html"></a></div>
<div class="next"><a href="why-do-we-learn-statistics.html"><span class="header-section-number">1</span> Why do we learn statistics</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#preface">Preface</a></li>
<li><a class="nav-link" href="#preface-to-version-0.75">Preface to Version 0.75</a></li>
<li><a class="nav-link" href="#preface-to-version-0.70">Preface to Version 0.70</a></li>
<li><a class="nav-link" href="#preface-to-version-0.65">Preface to Version 0.65</a></li>
<li><a class="nav-link" href="#preface-to-version-0.6">Preface to Version 0.6</a></li>
<li><a class="nav-link" href="#preface-to-version-0.5">Preface to Version 0.5</a></li>
<li><a class="nav-link" href="#preface-to-version-0.4">Preface to Version 0.4</a></li>
<li><a class="nav-link" href="#preface-to-version-0.3">Preface to Version 0.3</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong><span style="font-family:Garamond;font-weight:700;">learning statistics with jamovi</span></strong>" was written by Danielle J. Navarro &amp; David R. Foxcroft. It was last built on 18 June 2022 (version 0.75).</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
