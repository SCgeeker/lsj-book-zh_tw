# 描述統計 {#sec-Descriptive-statistics}

```{r}
#| include: FALSE
source("header.R")
```

每件統計分析工作的第一步都是將資料整理成簡約易讀的格式，讓任何人都能了解內含的重點資訊。這類整理工作就是**描述統計**的所有內涵。其實，很多人都將“統計”當成描述統計的同義詞，也是本章的學習主題。不過在介紹專用名詞之前，讓我們花點時間了解為何我們需要描述統計。請同學先開啟jamovi資料庫裡的示範檔案"aflsmall_margins"，以便稍後的解說。開啟畫面如同 @fig-fig4-1 。

<!---Any time that you get a new data set to look at one of the first tasks that you have to do is find ways of summarising the data in a compact, easily understood fashion. This is what **descriptive statistics** (as opposed to inferential statistics) is all about. In fact, to many people the term "statistics" is synonymous with descriptive statistics. It is this topic that we'll consider in this chapter, but before going into any details, let's take a moment to get a sense of why we need descriptive statistics. To do this, let's open the aflsmall_margins file and see what variables are stored in the file, see @fig-fig4-1. --->

```{r}
#| label: fig-fig4-1
#| fig-align: left
#| fig-width: 0.9
#| fig-cap: 由jamovi匯入aflsmallmargins.csv的畫面。 
#A screenshot of jamovi showing the variables stored in the aflsmallmargins.csv file
knitr::include_graphics("images/fig4-1.png")
```

這個檔案只有一個變項“afl.margins”。本章前半部都以這個變項做為示範，所以需要讓同學知道這個變項是什麼資料。這個變項的數值是來自澳洲足球聯盟(Australian Football League, 簡稱AFL)[^04-descriptive-statistics-1]紀錄的真實資料。“afl.margins”的數值是2010年球季，各場例行賽的勝隊得分。


[^04-descriptive-statistics-1]: 不知道澳洲足球聯盟的同學不必擔心，即使不了解AFL規則，也不會影響使用這份資料學習描述統計。

你無法從試算表裡的數值讀出任何資訊，單純地“看資料”並不是解讀資料的有效方法。為了解讀資料中的訊息，同學們需要學習這一章介紹的統計量數，以及 @sec-Drawing-graphs 介紹的統計圖。統計量數與統計圖是描述統計最容易學的主題，那我們就先看一看 @fig-fig4-2 的直方圖，了解如何用描述統計形容資料。 @sec-Histograms 會有關於直方圖的更多介紹，現在先透過直方圖，解讀"afl.margins"變項透露什麼資訊。

<!---In fact, there is just one variable here, afl.margins. We'll focus a bit on this variable in this chapter, so I'd better tell you what it is. Unlike most of the data sets in this book, this is actually real data, relating to the Australian Football League (AFL).[^04-descriptive-statistics-1] The afl.margins variable contains the winning margin (number of points) for all 176 home and away games played during the 2010 season.

[^04-descriptive-statistics-1]: Note for non-Australians: the AFL is an Australian rules football competition. You don't need to know anything about Australian rules in order to follow this section. 

This output doesn't make it easy to get a sense of what the data are actually saying. Just "looking at the data" isn't a terribly effective way of understanding data. In order to get some idea about what the data are actually saying we need to calculate some descriptive statistics (this chapter) and draw some nice pictures (@sec-Drawing-graphs). Since the descriptive statistics are the easier of the two topics I'll start with those, but nevertheless I'll show you a histogram of the afl.margins data since it should help you get a sense of what the data we're trying to describe actually look like, see @fig-fig4-2. We'll talk a lot more about how to draw histograms in @sec-Histograms in the next chapter. For now, it's enough to look at the histogram and note that it provides a fairly interpretable representation of the afl.margins data.--->

```{r}
#| label: fig-fig4-2
#| fig-align: left
#| fig-width: 90
#| fig-cap: 2010年AFL例行賽勝隊得分的直方圖。整體來看，勝隊得分越高，比賽場次紀錄越少。
#A histogram of the AFL 2010 winning margin data (the afl.margins variable). As you might expect, the larger the winning margin the less frequently you tend to see it
knitr::include_graphics("images/fig4-2.png")
```

## 集中量數

如同 @fig-fig4-2 展示的統計繪圖，是一種向人展現資料“要點”的絕佳方式。統計圖在精鍊資料為簡化的"總成"統計資訊相同有用。在許多實務場合的統計工作，首先要做的總成統計是計算**集中量數**。 也就是要呈現資料裡的“平均值”或“中位數”。以下依序介紹最常見的平均值、中位數、以及眾數，還有說明這些量數的用途。

<!---Drawing pictures of the data, as I did in @fig-fig4-2, is an excellent way to convey the "gist" of what the data is trying to tell you. It's often extremely useful to try to condense the data into a few simple "summary" statistics. In most situations, the first thing that you'll want to calculate is a measure of **central tendency**. That is, you'd like to know something about where the "average" or "middle" of your data lies. The three most commonly used measures are the mean, median and mode. I'll explain each of these in turn, and then discuss when each of them is useful.--->

### 平均值

一組資料的**平均值**通常指算術平均值。計算方法是將所有數值加起來，除以數值的數目。以下是拿AFL資料前五場比賽勝隊得分56, 31, 56, 8, 32，代入公式計算的平均值：

<!---The **mean** of a set of observations is just a normal, old-fashioned average. Add all of the values up, and then divide by the total number of values. The first five AFL winning margins were 56, 31, 56, 8 and 32, so the mean of these observations is just: --->

$$
\frac{56 + 31 + 56 + 8 + 32}{5} = \frac{183}{5} = 36.60
$$

會用這本書學習統計的同學應該對以上定義耳熟能詳。平均值(也稱平均數)在許多日常場合都會用到。儘管很多同學都熟悉如何計算，在此我們用這套公式學習一些統計學家常用的數學記號，這樣能讓我們了解如何使用jamovi進行算術運算。

<!---Of course, this definition of the mean isn't news to anyone. Averages (i.e., means) are used so often in everyday life that this is pretty familiar stuff. However, since the concept of a mean is something that everyone already understands, I'll use this as an excuse to start introducing some of the mathematical notation that statisticians use to describe this calculation, and talk about how the calculations would be done in jamovi. --->

首先來認識數學記號$N$(大寫N)，用於表示要計算平均值的觀察值個數(以上的例子 $N = 5$)。接著是表示一組觀察值的記號，慣例用大寫X表示，再加上底標數字記號就代表個別觀察值。也就是說，$X_1$是第一筆觀察值，$X_2$是第二筆觀察值，以此類推$X_N$是最後一筆觀察值。觀察值記號用比較抽象簡化的方式使用，$X_i$是資料裡的第i筆觀察值。為了幫同學了解符號的用法，我們將afl.margins的前五場比賽紀錄，連同數學記號整理在**表4-1**。

<!---The first piece of notation to introduce is $N$, which we'll use to refer to the number of observations that we're averaging (in this case $N = 5$). Next, we need to attach a label to the observations themselves. It's traditional to use X for this, and to use subscripts to indicate which observation we're actually talking about. That is, we'll use $X_1$ to refer to the first observation, $X_2$ to refer to the second observation, and so on all the way up to $X_N$ for the last one. Or, to say the same thing in a slightly more abstract way, we use $X_i$ to refer to the i-th observation. Just to make sure we're clear on the notation, @tbl-tab4-1 lists the 5 observations in the afl.margins variable, along with the mathematical symbol used to refer to it and the actual value that the observation corresponds to. --->


```{r}
#| label: tbl-tab4-1
#| tbl-cap: afl.margins的觀察資料資訊。
#huxtabs[[4]][[1]]
```

<center>表4-1: afl.margins的觀察資料資訊。</center>

|觀察值資訊|數學記號|觀察值數值|
|:---:|:---:|:---:|
|勝隊得分。第1場| $X_1$ | 56分|
|勝隊得分。第2場| $X_2$ | 31分|
|勝隊得分。第3場| $X_3$ | 56分|
|勝隊得分。第4場| $X_4$ | 8分|
|勝隊得分。第5場| $X_5$ | 32分|


[更多技術細節[^04-descriptive-statistics-2]]

[^04-descriptive-statistics-2]: 建議初學的同學在紙上寫下幾種平均值的公式，才能加深印象。平均值的數學記號通常是 $\bar{X}$ ，公式則寫成 $$\bar{X}=\frac{X_1 + X_2 ... + X_{N-1} + X_{N}}{N}$$ 這樣寫雖然正確，但是太過冗長，所以通常會用**連加符號** $\sum$ $^a$ 縮減公式。像是這個例子要連加五筆資料，寫成公式 $X_1 + X_2 + X_3 + X_4 + X_5$ 看起來很長，使用連加符號就能簡化為 $$\sum_{i=1}^{5} X_i$$ 。字面意思是"以i代表1到5，將每個 $X_i$ 的數值加起來"。不過這和”連加前五筆數值“的意思還是不大一樣。雖然我們可以將這個公式擴展為適要任何狀況： $$\bar{X}=\frac{1}{N}\sum_{i=1}^{N}X_i$$ 但是可能無法幫助數感不夠的同學了解平均值的概念。其實只要寫平均值的概念只要用幾個字表達就夠清楚：將一筆資料所有數值加起來再除以資料的數值個數。但是這本書的教學目的不光是要解釋概念，也要使用這本書的同學了解在本書以及jamovi的介面隨處可見的各種數學記號是什麼意思。請留意平均值公式裡的每個記號，之後每一章都會不斷遇到。這些記號不論出現在那裡，意思都是一樣的：$\bar{X}$ 代表平值， $\sum$ 代表連加一筆數值， $X_i$ 代表第i個數值， $N$ 代表一筆資料的數值個數。 <br />---<br />$^a$ **選用記號的理由** $\sum$ 代表數值連加並不是沒有理由的，其實這是希臘字母 $\sigma$ 的大寫，相當於英文字母的大寫 $S$ 。也有另一個大寫希臘字母 $\prod$ 代表數值連乘，這個字母的小寫就是代表圓周率的 $\pi$ ，相當於英文字母的 $P$ 。

<!---[^04-descriptive-statistics-2]: Okay, now let's try to write a formula for the mean. By tradition, we use $\bar{X}$ as the notation for the mean. So the calculation for the mean could be expressed using the following formula: $$\bar{X}=\frac{X_1 + X_2 ... + X_{N-1} + X_{N}}{N}$$ This formula is entirely correct but it's terribly long, so we make use of the **summation symbol** $\sum$ to shorten it.$^a$ If I want to add up the first five observations I could write out the sum the long way, $X_1 + X_2 + X_3 + X_4 + X_5$ or I could use the summation symbol to shorten it to this: $$\sum_{i=1}^{5} X_i$$ Taken literally, this could be read as "the sum, taken over all i values from 1 to 5, of the value $X_i$". But basically what it means is "add up the first five observations". In any case, we can use this notation to write out the formula for the mean, which looks like this: $$\bar{X}=\frac{1}{N}\sum_{i=1}^{N}X_i$$ In all honesty, I can't imagine that all this mathematical notation helps clarify the concept of the mean at all. In fact, it's really just a fancy way of writing out the same thing I said in words: add all the values up and then divide by the total number of items. However, that's not really the reason I went into all that detail. My goal was to try to make sure that everyone reading this book is clear on the notation that we'll be using throughout the book: $\bar{X}$ for the mean, $\sum$ for the idea of summation, $X_i$ for the ith observation, and $N$ for the total number of observations. We're going to be re-using these symbols a fair bit so it's important that you understand them well enough to be able to "read" the equations, and to be able to see that it's just saying "add up lots of things and then divide by another thing". <br />---<br />$^a$ *The choice to use* $\sum$ to denote summation isn't arbitrary. It's the Greek upper case letter sigma, which is the analogue of the letter $S$ in that alphabet. Similarly, there's an equivalent symbol used to denote the multiplication of lots of numbers, because multiplications are also called "products" we use the $\prod$ symbol for this (the Greek upper case pi, which is the analogue of the letter $P$. --->

### 平均值計算示範

好啦，以上是純數學的說明，那要如何使用jamovi幫我們完成計算工作？特別是資料變項有成千上百個觀察值，還是使用電腦計算平均值比較簡單。第一步是點選Analysis面板上的'Exploration'按鈕，再點選'Descriptives'，就會出現如同 @fig-fig4-3 的選單畫面。要完成如同畫面中顯示的結果，只要點選左邊方框裡的`afl.margins`，將變項移動到"Variables"方框裡，馬上就能在報表介面看到顯示統計量數的表格。請同學自行試看看能否得到一樣的結果。

<!---Okay, that's the maths. So how do we get the magic computing box to do the work for us? When the number of observations starts to become large it's much easier to do these sorts of calculations using a computer. To calculate the mean using all the data we can use jamovi. The first step is to click on the 'Exploration' button and then click 'Descriptives'. Then you can highlight the afl.margins variable and click the 'right arrow' to move it across into the 'Variables box'. As soon as you do that a Table appears on the right hand side of the screen containing default 'Descriptives' information; see @fig-fig4-3.--->

```{r}
#| label: fig-fig4-3
#| fig-align: left
#| fig-width: 90
#| fig-cap: 2010年AFL例行賽勝隊得分的預設描述統計報告。
#Default descriptives for the AFL 2010 winning margin data (the afl.margins variable)
knitr::include_graphics("images/fig4-3.png")
```


@fig-fig4-3 的報表顯示變項`afl.margins`的平均值是35.30。其他一起呈現的資訊有比賽場次數目(N = 176)，遺漏值數目(無)，以及中位數、最小值、最大值。

<!---As you can see in @fig-fig4-3, the mean value for the afl.margins variable is 35.30. Other information presented includes the total number of observations (N=176), the number of missing values (none), and the Median, Minimum and Maximum values for the variable. --->

### 中位數

第二種常見的集中量數是**中位數**，計算方式甚至比平均值更簡單。中位數就是一組觀察值排序在中間的數值。以下同樣用AFL前五場比賽紀錄：$56$, $31$, $56$, $8$, $32$說明如何計算中位數。首先將所由數值由小到大升冪排序：

<!---The second measure of central tendency that people use a lot is the **median**, and it's even easier to describe than the mean. The median of a set of observations is just the middle value. As before let's imagine we were interested only in the first 5 AFL winning margins: $56$, $31$, $56$, $8$ and $32$. To figure out the median we sort these numbers into ascending order: --->

8, 31, **32**, 56, 56

表面看來，以上五個數值的中位數是32，因為這個數值剛好排在中央位(以粗體字標示)。但是如果要整理的是前六場比賽紀錄的話呢？由於第6場比賽的勝隊得分是14，排序的數列如下：

<!---From inspection, it's obvious that the median value of these 5 observations is 32 since that's the middle one in the sorted list (I've put it in bold to make it even more obvious). Easy stuff. But what should we do if we are interested in the first 6 games rather than the first 5? Since the sixth game in the season had a winning margin of 14 points, our sorted list is now--->

8, 14, **31**, **32**, 56, 56

位在中間的數值有兩個，31與32。中位數就變成兩個數值的平均，也就是31.5。就像前面的例子，到這裡我們都可以用手計算。但是在真正的統計實務裡，我們不可能排序所有數值再找出中位數，還是要使用電腦完成繁複的工作。就像 @fig-fig4-3 的示範，jamovi已經算出`afl.margins`變項所有數值的中位數是30.50。


<!---and there are two middle numbers, 31 and 32. The median is defined as the average of those two numbers, which is of course 31.5. As before, it's very tedious to do this by hand when you've got lots of numbers. In real life, of course, no-one actually calculates the median by sorting the data and then looking for the middle value. In real life we use a computer to do the heavy lifting for us, and jamovi has provided us with a Median value of 30.50 for the afl.margins variable (@fig-fig4-3).--->

### 應該要計算平均值還是中位數?

只知道怎麼計算平均值與中位數還不能下課。我們還要知道這兩種量數指出了一組資料的什麼特徵，這也能讓我們曉得各自的正確使用時機。請看 @fig-fig4-4 的圖解。平均值顯示一筆資料的“重心”；中位數則是一筆資料的“中心點”。這也就是說，要用那種量數描述資料特徵，要看資料的種類，以及解釋這筆資料的目的是什麼。以下是簡要原則：

- 名義尺度(nomral scale)資料不應使用平均值或中位數。因為兩種量數的計算要有意義，都有資料數值有大小順序的條件。如果數值之間的大小順序不明確，最好使用[眾數](04-Descriptive-statistics.html#sec-Mode)。
- 次序尺度(ordinal scale)資料應使用中位數而非平均值。中位數只會表示資料的順序資訊，不會指出數值間的差異比例。收集次序尺度資料之前已經知道不需測量觀察值之間的差異。只有測量尺度包括數值之間的差異時，才能使用平均值表現資料特徵。
- 等距(interval)與等比(ratio)尺度資料都能使用平均值表達資料特徵。實際使用那一種尺度，全賴實務目的。平均值能掌握這類尺度測量的觀察值所有資訊特徵。不過請切記，平均值對於位於極端、遠離重心的數值非常敏感。

關於最後一條，我們再多談一些。如 @fig-fig4-4 的圖解，資料直方圖呈現非對稱時，平均值與中位數必定是不一樣的值(見[偏態與峰度](04-Descriptive-statistics.html#%E5%81%8F%E6%85%8B%E8%88%87%E5%B3%B0%E5%BA%A6))。圖中右邊的直方圖內的中位數接近資料密集的“軀幹”，左邊的直方圖內中位數則落在資料稀少的"尾巴“。用實際的例子來說，有三位朋友同桌聚會，Bob年收入有50,000澳幣、Kate年收入有60,000澳幣、Jane年收入有65,000澳幣。三人的收入平均值是58,333澳幣，中位數是60,000。接著年收入高達100,000,000澳幣的Bill加入他們，平均值馬上提高到25,043,750澳幣，不過中位數只有升到62,500澳幣。你也許會覺得這一桌朋友的總收入應該能用平均值總結，但是考慮到只有四人，中位數也許是更好的選擇。

<!---Knowing how to calculate means and medians is only a part of the story. You also need to understand what each one is saying about the data, and what that implies for when you should use each one. This is illustrated in @fig-fig4-4. The mean is kind of like the "centre of gravity" of the data set, whereas the median is the "middle value" in the data. What this implies, as far as which one you should use, depends a little on what type of data you've got and what you're trying to achieve. As a rough guide:

-   If your data are nominal scale you probably shouldn't be using either the mean or the median. Both the mean and the median rely on the idea that the numbers assigned to values are meaningful. If the numbering scheme is arbitrary then it's probably best to use the [Mode] instead.
-   If your data are ordinal scale you're more likely to want to use the median than the mean. The median only makes use of the order information in your data (i.e., which numbers are bigger) but doesn't depend on the precise numbers involved. That's exactly the situation that applies when your data are ordinal scale. The mean, on the other hand, makes use of the precise numeric values assigned to the observations, so it's not really appropriate for ordinal data.
-   For interval and ratio scale data either one is generally acceptable. Which one you pick depends a bit on what you're trying to achieve. The mean has the advantage that it uses all the information in the data (which is useful when you don't have a lot of data). But it's very sensitive to extreme, outlying values.

Let's expand on that last part a little. One consequence is that there are systematic differences between the mean and the median when the histogram is asymmetric ([Skew and kurtosis]). This is illustrated in @fig-fig4-4. Notice that the median (right hand side) is located closer to the "body" of the histogram, whereas the mean (left hand side) gets dragged towards the "tail" (where the extreme values are). To give a concrete example, suppose Bob (income \$50,000), Kate (income \$60,000) and Jane (income \$65,000) are sitting at a table. The average income at the table is \$58,333 and the median income is \$60,000. Then Bill sits down with them (income \$100,000,000). The average income has now jumped to \$25,043,750 but the median rises only to \$62,500. If you're interested in looking at the overall income at the table the mean might be the right answer. But if you're interested in what counts as a typical income at the table the median would be a better choice here.--->

```{r}
#| label: fig-fig4-4
#| fig-align: left
#| fig-width: 90
#| fig-cap: 圖解使用平均值與中位數解釋資料特徵的差異。平均值是一筆資料的“重心”。如果構成資料直方圖的成份是有重量的積木，平均值是能保持積木平衡不動的支點。中位數則是所有資料平分切開，代表其中一半剛好小於另一半的中間數值。
#An illustration of the difference between how the mean and the median should be interpreted. The mean is basically the 'centre of gravity' of the data set. If you imagine that the histogram of the data is a solid object, then the point on which you could balance it (as if on a see-saw) is the mean. In contrast, the median is the middle observation, with half of the observations smaller and half of the observations larger
knitr::include_graphics("images/fig4-11.png")
```

### 真實案例 {#sec-A-real-life-example}

為了弄清楚為什麼你需要注意平均值和中位數的區別，讓我們看一個現實生活中的例子。雖然我喜歡看媒體記者因為缺乏科學和統計知識而鬧的笑話，有好報導還是應該給予讚揚。請看2010年9月24日澳洲廣播公司新聞網站的這篇優秀報導[^04-descriptive-statistics-3]：

[^04-descriptive-statistics-3]: [www.abc.net.au/news/stories/2010/09/24/3021480.htm](https://www.abc.net.au/news/2010-09-24/housing-bubble-debate-boils-over/2273406)

> 在過去的幾個星期，澳大利亞聯邦銀行的資深高層到世界各地旅行，準備了一份簡報說明與發達程度接近的國家相比，澳大利亞房價及主要價格收入比率比較有利。『實際上過去五、六年，澳大利亞的住宅負擔能力出現偏差』聯邦銀行的首席經濟學家Craig James說道。

這對於任何有按時付房貸，想要申請房貸，支付租金，或對於過去幾年澳大利亞房地產市場發生的事情全然不知情的民眾來說是重大消息。讓我們繼續看下去：

> 澳大利亞聯邦銀行以圖表、數字還有比較各國狀況，反擊房屋末日論。銀行官員用這份[簡報](https://www.commbank.com.au/about-us/shareholders/pdfs/2010-asx/Australian_Residential_Housing_and_Mortgages_slide_pack_9_Sept_2010.pdf)裡的數據，否定與澳大利亞一般家庭收入比較，住宅負擔相對昂貴的論點。簡報裡提到澳洲主要城市的房屋價格與家庭收入的比值為5.6，全國平均為4.3，與其他已開發國家的城市相比，美國舊金山和紐約的比值都是7，紐西蘭奧克蘭6.7，加拿大溫哥華9.3。

聽起來很棒! 不過這篇報導接下來評論了簡報內容：

> 許多分析家指出聯邦銀行誤用了圖表及數字，做出的結論是錯誤的。看一下簡報第四頁的表格，表格註腳提到其他國家的數值是來自一個網站——[國際住宅負擔調查報告](http://www.demographia.com/)。然而，如果聯邦銀行也引用該網站對澳大利亞房價與收入比值的分析，數字應該是9，而不是5.6或4.3。

嗯，出現一個相當嚴重的歧異。一群專家說是9，另一群專家說是4或5。我們能說雙方都有理，宣稱真實數字就在兩者之間？絕對不行！房價和收入的調查結果只會有一個。正如報導接著指出，國際住宅負擔調查報告的數字是正確的，澳洲聯邦銀行提供的數字是錯誤的：

> 澳洲聯邦銀行提供的國內房價與收入數字存在一個明顯的問題，他們比較的是收入平均值與房價中位數（國際住宅負擔調查報告比較的是收入中位數與房價中位數）。中位數是數據資料中間的點，能有效剔除了最高數值和最低數值，這意味著當涉及到收入和資產價格時，平均值會被拉高，因為整體收入數據包括澳大利亞最有錢的人。換句話說：聯邦銀行計算的收入數據包括執行長拉爾夫-諾里斯（Ralph Norris）的數百萬美元年薪，但是沒有把他的豪宅算在房產價格數據裡，因此低估了澳大利亞中產受薪階級的房價與收入比。

這段報導還是我自己(原作者)來寫好了。"(簡單說，)國際住宅負擔調查報告的比值計算方式是正確的，但是聯邦銀行的算法是錯的。"至於為什麽經常處理複雜數據的大銀行會犯這種低級錯誤，嗯...我沒什麼話可說，因為我對這間機構沒什麼了解。不過這篇報導剛好提到一個事實，可能與銀行出這種包有關，也可能無關:

> 作為澳大利亞最大的房屋貸款機構，房價上漲會讓聯邦銀行有最大獲益。全澳大利亞大多數購屋族以及小型企業都是向聯邦銀行貸款。

同學們，這就是社會現實呀！

<!---To try to get a sense of why you need to pay attention to the differences between the mean and the median let's consider a real life example. Since I tend to mock journalists for their poor scientific and statistical knowledge, I should give credit where credit is due. This is an excellent article on the ABC news website[^04-descriptive-statistics-3] from 24 September, 2010:

[^04-descriptive-statistics-3]: [www.abc.net.au/news/stories/2010/09/24/3021480.htm](www.abc.net.au/news/stories/2010/09/24/3021480.htm)

> Senior Commonwealth Bank executives have travelled the world in the past couple of weeks with a presentation showing how Australian house prices, and the key price to income ratios, compare favourably with similar countries. "Housing affordability has actually been going sideways for the last five to six years," said Craig James, the chief economist of the bank's trading arm, CommSec.

This probably comes as a huge surprise to anyone with a mortgage, or who wants a mortgage, or pays rent, or isn't completely oblivious to what's been going on in the Australian housing market over the last several years. Back to the article:

> CBA has waged its war against what it believes are housing doomsayers with graphs, numbers and international comparisons. In its presentation, the bank rejects arguments that Australia's housing is relatively expensive compared to incomes. It says Australia's house price to household income ratio of 5.6 in the major cities, and 4.3 nationwide, is comparable to many other developed nations. It says San Francisco and New York have ratios of 7, Auckland's is 6.7, and Vancouver comes in at 9.3.

More excellent news! Except, the article goes on to make the observation that:

> Many analysts say that has led the bank to use misleading figures and comparisons. If you go to page four of CBA's presentation and read the source information at the bottom of the graph and table, you would notice there is an additional source on the international comparison -- Demographia. However, if the Commonwealth Bank had also used Demographia's analysis of Australia's house price to income ratio, it would have come up with a figure closer to 9 rather than 5.6 or 4.3

That's, um, a rather serious discrepancy. One group of people say 9, another says 4-5. Should we just split the difference and say the truth lies somewhere in between? Absolutely not! This is a situation where there is a right answer and a wrong answer. Demographia is correct, and the Commonwealth Bank is wrong. As the article points out:

> \[An\] obvious problem with the Commonwealth Bank's domestic price to income figures is they compare average incomes with median house prices (unlike the Demographia figures that compare median incomes to median prices). The median is the mid-point, effectively cutting out the highs and lows, and that means the average is generally higher when it comes to incomes and asset prices, because it includes the earnings of Australia's wealthiest people. To put it another way: the Commonwealth Bank's figures count Ralph Norris' multi-million dollar pay packet on the income side, but not his (no doubt) very expensive house in the property price figures, thus understating the house price to income ratio for middle-income Australians.

Couldn't have put it better myself. The way that Demographia calculated the ratio is the right thing to do. The way that the Bank did it is incorrect. As for why an extremely quantitatively sophisticated organisation such as a major bank made such an elementary mistake, well... I can't say for sure since I have no special insight into their thinking. But the article itself does happen to mention the following facts, which may or may not be relevant:

> \[As\] Australia's largest home lender, the Commonwealth Bank has one of the biggest vested interests in house prices rising. It effectively owns a massive swathe of Australian housing as security for its home loans as well as many small business loans.

My, my. --->

### 眾數 {#sec-Mode}

從一組樣本找出眾數非常容易，就是個數最多的數值是也。我們用另一個AFL資料變項說明：那個球隊在歷年季後賽出場次數最多？請參考 @fig-fig4-5 開啟AFL Finallist這個檔案，看一下變項`afl.finalists`。這個變項的數值是包括1987到2010年200場季後賽的400支球隊隊名。

大家可以直接掃過全部400項，然後計數每支球隊的出場次數，如此能製造一張**次數表(frequency table)**。不過這樣的工作相當耗神且無聊，還是交給電腦吧。同樣也是點選開啟"Exploration"的“Descriptives"選單，這次要勾選”Frequency tables"這個方塊。如同 @fig-fig4-6 的示範。

從次數表可以看到，在這24年的季後賽，Geelong隊的出場次數遠多其他球隊，所以變項`afl.finalists`的眾數是Geelong。眾數說明Geelong(39次)是1987到2010季後賽出場最多的球隊，也能看到”Descriptives"表格並沒有呈現平均值、中位數、最小值、還有最大值。這是因為變項`afl.finalists`是名義尺度資料，無法計算這些量數。

<!---
The mode of a sample is very simple. It is the value that occurs most frequently. We can illustrate the mode using a different AFL variable: who has played in the most finals? Open the aflsmall finalists file and take a look at the afl.finalists variable, see @fig-fig4-5. This variable contains the names of all 400 teams that played in all 200 finals matches played during the period 1987 to 2010.

What we could do is read through all 400 entries and count the number of occasions on which each team name appears in our list of finalists, thereby producing a **frequency table**. However, that would be mindless and boring: exactly the sort of task that computers are great at. So let's use jamovi to do this for us. Under 'Exploration' - 'Descriptives' click the small check box labelled 'Frequency tables' and you should get something like @fig-fig4-6.

Now that we have our frequency table we can just look at it and see that, over the 24 years for which we have data, Geelong has played in more finals than any other team. Thus, the mode of the afl.finalists data is "Geelong". We can see that Geelong (39 finals) played in more finals than any other team during the 1987-2010 period. It's also worth noting that in the 'Descriptives' Table no results are calculated for Mean, Median, Minimum or Maximum. This is because the afl.finalists variable is a nominal text variable so it makes no sense to calculate these values.--->

```{r}
#| label: fig-fig4-5
#| fig-align: left
#| fig-width: 90
#| fig-cap: aflsmall finalists.csv匯入jamovi的變項顯示畫面。
#A screenshot of jamovi showing the variables stored in the aflsmall finalists.csv file
knitr::include_graphics("images/fig4-5.png")
```

```{r}
#| label: fig-fig4-6
#| fig-align: left
#| fig-width: 90
#| fig.cap: 變項afl.finalists的次數表在jamovi的輸出畫面。
#A screenshot of jamovi showing the frequency table for the afl.finalists variable
knitr::include_graphics("images/fig4-6.png")
```

關於眾數還有一點要了解。儘管眾數常用來計算名義尺度資料的集中量數，是因為這類資料無法計算平均值和中位數，還是有些情況是不論資料尺度是什麼，我們都想知道眾數。我們回頭看前面的示範資料變項`afl.margins`，這是等比尺度變項，通常我們用平均值或中位數代表這筆資料的集中量數。不過想想這個情況：某天你的朋友想買運動彩卷賭下一場比賽的勝隊是幾分。若是不知道下一場是那隊出賽，只能隨便猜任何一個贏球分數。如果賭對了就能拿到50澳幣，賭輸了買彩卷的一塊就沒了。彩卷規則沒有所謂的“幾乎猜中”，只能賭勝隊實際會贏幾分。這時平均值或中位數都不能幫你朋友做決定，只有眾數才有參考價值。這時可以回到`afl.margins`的jamovi檔案，我們在"Exploration"的“Descriptives"選單勾選"Mode"，就能在描述統計報表看到眾數是3，如同 @fig-fig4-7 的示範。

<!---One last point to make regarding the mode. Whilst the mode is most often calculated when you have nominal data, because means and medians are useless for those sorts of variables, there are some situations in which you really do want to know the mode of an ordinal, interval or ratio scale variable. For instance, let's go back to our afl.margins variable. This variable is clearly ratio scale (if it's not clear to you, it may help to re-read @sec-Scales-of-measurement), and so in most situations the mean or the median is the measure of central tendency that you want. But consider this scenario: a friend of yours is offering a bet and they pick a football game at random. Without knowing who is playing you have to guess the exact winning margin. If you guess correctly you win \$50. If you don't you lose \$1. There are no consolation prizes for "almost" getting the right answer. You have to guess exactly the right margin. For this bet, the mean and the median are completely useless to you. It is the mode that you should bet on. To calculate the mode for the afl.margins variable in jamovi, go back to that data set and on the 'Exploration' - 'Descriptives' screen you will see you can expand the section marked 'Statistics'. Click on the checkbox marked 'Mode' and you will see the modal value presented in the 'Descriptives' Table, as in @fig-fig4-7. So the 2010 data suggest you should bet on a 3 point margin. --->

```{r}
#| label: fig-fig4-7
#| fig-align: left
#| fig-width: 90
#| fig-cap: 計算變項afl.margins眾數的jamovi示範畫面。
#A screenshot of jamovi showing the modal value for the afl.margins variable
knitr::include_graphics("images/fig4-7.png")
```

## 變異量數 {#sec-Measures-of-variability}

至此有關集中量數的說明先告一段落。除了資料的“中心點”或“次數最多”的部分，描述統計也要說明資料的**變異程度(variability)**。像是資料有多“離散”？測量到的數值離平均值或中位數有多遠？這一節的只有談等距或等比尺度資料的變異量數，所以繼續使用`afl.margins`資料示範，還有說明各種變異量數的優缺點。

<!---The statistics that we've discussed so far all relate to central tendency. That is, they all talk about which values are "in the middle" or "popular" in the data. However, central tendency is not the only type of summary statistic that we want to calculate. The second thing that we really want is a measure of the **variability** of the data. That is, how "spread out" are the data? How "far" away from the mean or median do the observed values tend to be? For now, let's assume that the data are interval or ratio scale, and we'll continue to use the afl.margins data. We'll use this data to discuss several different measures of spread, each with different strengths and weaknesses.--->

### 全距

計算變項資料的全距非常容易，就是最大值減去最小值。以AFL勝隊得分的例子來說，最大值是116，最小值是0。儘管全距是所有變異量數裡計算方法最簡單，卻也是最不可靠的。還記得平均值的說明曾提到，統計量數最好要穩定(robust)。如果變項資料裡有一兩個極端數值，會影響全距的大小。就像以下數列有個非常極端的數值：

-100, 2, 3, 4, 5, 6, 7, 8, 9, 10

很明顯這筆資料的全距完全被極端值主宰：沒有去掉極端值的全距是110，但是移除之後變成8。


<!---
The statistics that we've discussed so far all relate to central tendency. That is, they all talk about which values are "in the middle" or "popular" in the data. However, central tendency is not the only type of summary statistic that we want to calculate. The second thing that we really want is a measure of the **variability** of the data. That is, how "spread out" are the data? How "far" away from the mean or median do the observed values tend to be? For now, let's assume that the data are interval or ratio scale, and we'll continue to use the afl.margins data. We'll use this data to discuss several different measures of spread, each with different strengths and weaknesses.
The **range** of a variable is very simple. It's the biggest value minus the smallest value. For the AFL winning margins data the maximum value is 116 and the minimum value is 0. Although the range is the simplest way to quantify the notion of "variability", it's one of the worst. Recall from our discussion of the mean that we want our summary measure to be robust. If the data set has one or two extremely bad values in it we'd like our statistics to not be unduly influenced by these cases. For example, in a variable containing very extreme outliers

-100, 2, 3, 4, 5, 6, 7, 8, 9, 10

it is clear that the range is not robust. This variable has a range of 110 but if the outlier were removed we would have a range of only 8.--->


### 四分位數間距

**四分位數間距(interquartile range)**類似全距，不過是改成計算資料內位於25%與75%兩個百分位數之間的差異。若是同學還不知道什麼是百分位數(percentile)，可以想成一筆資料x的10%百分位數，是資料內小於這個數值的比例佔10%。其實前面我們就已經學過這個概念，因為中位數就是50%百分位數！jamovi的預設描述統計功能可以直接算出一筆資料的25%、50%、75%三個百分位數。請在jamovi描述統計選單內勾選“Quartiles”的選項試試看。

@fig-fig4-8 展示的50%百分位數與中位數毫不意外是相同的。同時也能得到2010年AFL勝隊得分的IQR是37.5 (50.50 - 12.75 = 37.75)。理解IQR的簡單方式是：這個數值代表一筆資料“中間一半”跨越的範圍。小於25%百分位數的四分之一數值，以及大於75%百分位數的四分之一數值都在這“中間一半”之外。只有IQR內的數值在這段範圍之內。

<!---The **四分位數間距(interquartile range)** (IQR) is like the range, but instead of the difference between the biggest and smallest value the difference between the 25th percentile and the 75th percentile is taken. If you don't already know what a **percentile** is, the 10th percentile of a data set is the smallest number x such that 10% of the data is less than x. In fact, we've already come across the idea. The median of a data set is its 50th percentile! In jamovi you can easily specify the 25th, 50th and 75th percentiles by clicking the checkbox 'Quartiles' in the 'Exploration' - 'Descriptives' - 'Statistics' screen.

And not surprisingly, in @fig-fig4-8 the 50th percentile is the same as the median value. And, by noting that $50.50 - 12.75 = 37.75$, we can see that the interquartile range for the 2010 AFL winning margins data is 37.75. While it's obvious how to interpret the range it's a little less obvious how to interpret the IQR. The simplest way to think about it is like this: the interquartile range is the range spanned by the "middle half" of the data. That is, one quarter of the data falls below the 25th percentile and one quarter of the data is above the 75th percentile, leaving the "middle half" of the data lying in between the two. And the IQR is the range covered by that middle half.--->

```{r}
#| label: fig-fig4-8
#| fig-align: left
#| fig-width: 90
#| fig-cap: jamovi計算資料變項afl.margins的三個百分位數。
#A screenshot of jamovi showing the Quartiles for the afl.margins variable
knitr::include_graphics("images/fig4-8.png")
```

### 平均絕對差

全距與IQR都是利用資料內的百分位數，估計資料的變異程度。不過這不是估計變異程度的唯一方法。另一種方法是先決定一個有意義的參考點(像是平均值或中位數)，再計算整筆資料與參考點的“典型”差異值。那麼，什麼是“典型”差異值？通常是總和所有資料與參考點的差異值。實務上有兩種變異量數可用：“平均絕對差”(mean absolute deviation，平均值是參考點)與“中位絕對差”(median absolute deviation，中位數是參考點)。就原作者研讀過的書藉，“中位絕對差”是較理想的變異程度評估指標，不過心理學領域不常見到。

經過前一段的提要，我們來看看如何計算平均絕對差。同樣透過手算AFL勝隊得分來學習，就用前五場得分紀錄56, 31, 56, 8, 32來示範計算步驟。之前我們已經算出平均值是36.6 (記為 $\bar{X} = 36.6$ )。每個數值減去平均，可以得到個別的差異值( 記為 $X_i - \bar{X}$ )，接著取每個差異值的絕對值( 記為 $\mid X_i - \bar{X} \mid$ )。建議同學按步驟照著**表4-2** 依序紀錄計算結果[^04-translation-1]。

[^04-translation-1]: 譯註~這段計算步驟可參考譯者準備的[jamovi檔案](files/AFL Margins_MAD.omv)，下載後以jamovi開啟，觀看計算變項的說明。

<!---
The two measures we've looked at so far, the range and the interquartile range, both rely on the idea that we can measure the spread of the data by looking at the percentiles of the data. However, this isn't the only way to think about the problem. A different approach is to select a meaningful reference point (usually the mean or the median) and then report the "typical" deviations from that reference point. What do we mean by "typical" deviation? Usually, this is the mean or median value of these deviations. In practice, this leads to two different measures: the "mean absolute deviation" (from the mean) and the "median absolute deviation" (from the median). From what I've read, the measure based on the median seems to be used in statistics and does seem to be the better of the two. But to be honest I don't think I've seen it used much in psychology. The measure based on the mean does occasionally show up in psychology though. In this section I'll talk about the first one, and I'll come back to talk about the second one later.

Since the previous paragraph might sound a little abstract, let's go through the **平均絕對差(mean absolute deviation)** from the mean a little more slowly. One useful thing about this measure is that the name actually tells you exactly how to calculate it. Let's think about our AFL winning margins data, and once again we'll start by pretending that there are only 5 games in total, with winning margins of 56, 31, 56, 8 and 32. Since our calculations rely on an examination of the deviation from some reference point (in this case the mean), the first thing we need to calculate is the mean, $\bar{X}$. For these five observations, our mean is $\bar{X} = 36.6$. The next step is to convert each of our observations $X_i$ into a deviation score. We do this by calculating the difference between the observation $X_i$ and the mean $\bar{X}$. That is, the deviation score is defined to be $X_i - \bar{X}$. For the first observation in our sample, this is equal to $56 - 36.6 = 19.4$. Okay, that's simple enough. The next step in the process is to convert these deviations to absolute deviations, and we do this by converting any negative values to positive ones. Mathematically, we would denote the absolute value of $-3$ as $\mid -3 \mid$, and so we say that $\mid -3 \mid = 3$. We use the absolute value here because we don't really care whether the value is higher than the mean or lower than the mean, we're just interested in how close it is to the mean. To help make this process as obvious as possible, @tbl-tab4-2 shows these calculations for all five observations. --->

```{r}
#| label: tbl-tab4-2
#| tbl-cap: Measures of variability
#huxtabs[[4]][[2]] 
```

<center>表4-2: 使用離均差絕對值計算資料變異程度</center>

|口語|符號|數值|離均差|離均差絕對值|
|:---:|:---:|:---:|:---:|:---:|
|符號| $i$ | $X_i$ | $X_i - \bar{X}$  | $|X_i - \bar{X}|$ |
||1|56|19.4|19.4|
||2|31|-5.6|5.6|
||3|56|19.4|19.4|
||4|8|-28.6|28.6|
||5|32|-4.6|4.6|

現在只要計算所有差異值的絕對值，就是平均絕對差。

<!---Now that we have calculated the absolute deviation score for every observation in the data set, all that we have to do to calculate the mean of these scores. Let's do that: --->

$$
\frac{19.4 + 5.6 + 19.4 + 28.6 + 4.6}{5} = 15.52
$$

至此我們算出5個數值的平均絕對差是15.52。

[其他技術細節[^04-descriptive-statistics-4]]

[^04-descriptive-statistics-4]: 儘管平均絕對差的手算演練告一段落，還有一些事情要交待。我建議演練過程也要將公式寫出來，這樣子計算量數的數學公式意思才能記在心中。尤其是“平均絕對差”(mean absolute deviation)與"中位數絕對差“(median absolute deviation)的英文縮寫都是MAD，讀文獻時不注意的話會混淆。原作者建議“平均絕對差”的英文縮寫應該寫成AAD(average absolute deviation)，才能避免寫作與閱讀的問題。這個範例的公式與計算結果是： $$AAD(X) =\frac{1}{N} \sum_{i=1}^{N} \mid X_i - \bar{X} \mid = 15.52$$

<!---And we're done. The mean absolute deviation for these five scores is 15.52.

[Additional technical detail[^04-descriptive-statistics-4]]

[^04-descriptive-statistics-4]: However, whilst our calculations for this little example are at an end, we do have a couple of things left to talk about. First, we should really try to write down a proper mathematical formula. But in order do to this I need some mathematical notation to refer to the mean absolute deviation. Irritatingly, "mean absolute deviation" and "median absolute deviation" have the same acronym (MAD), which leads to a certain amount of ambiguity so I'd better come up with something different for the mean absolute deviation. Sigh. What I'll do is use AAD instead, short for average absolute deviation. Now that we have some unambiguous notation, here's the formula that describes what we just calculated:$$AAD(X) =\frac{1}{N} \sum_{i=1}^{N} \mid X_i - \bar{X} \mid = 15.52$$
--->

### 變異數

雖然平均絕對差有其用處，但是並非評估變異程度的最好指標。從數學原理的角度來看，差異值平方比差異值絕對值是更合適的指標。這裡介紹的**變異數(variance)**會省去許多統計細節[^04-descriptive-statistics-5]，主要著墨討論心理學研究累積的巨大缺陷。首先我們定義一筆資料($X$)的變異數記號是 Var($X$)，通常也被寫成 $s^2$，其中原因之後會說明。

[^04-descriptive-statistics-5]: 有關變異數的眾多細節，在此特別要提一點，就是變異數是**可加成的**。假如現在有兩個變項 $X$ 與 $Y$，各自的變異數是 $Var(X)$ 與 $Var(Y)$。接著我們定義一個新變項 $Z$ 是$X$ 與 $Y$的加成，也就是 $Z = X + Y$，變項 $Z$ 的變異數就等於 $Var(X) + Var(Y)$。這個特性在之後推論統計方法的學習非常有幫助，而且其他變異量數沒有相同的特性。

[更多技術細節[^04-descriptive-statistics-6]]

[^04-descriptive-statistics-6]: 變異數的完整公式如下： $$VAR(X) =\frac{1}{N} \sum_{i=1}^{N} ( X_i - \bar{X} )^2
$$ 基本上和平均絕對差幾乎一樣，除了每筆資料的離均差異值是以平方計算。這是為何變異數有時候又被稱為“平均平方差”。

<!---Although the average absolute deviation measure has its uses, it's not the best measure of variability to use. From a purely mathematical perspective there are some solid reasons to prefer squared deviations rather than absolute deviations. If we do that we obtain a measure called the **變異數(variance)**, which has a lot of really nice statistical properties that I'm going to ignore,[^04-descriptive-statistics-5] and one massive psychological flaw that I'm going to make a big deal out of in a moment. The variance of a data set $X$ is sometimes written as Var( $X$ ), but it's more commonly denoted $s^2$ (the reason for this will become clearer shortly). 

[^04-descriptive-statistics-5]: Well, I will very briefly mention the one that I think is coolest, for a very particular definition of "cool", that is. Variances are additive. Here's what that means. Suppose I have two variables $X$ and $Y$ , whose variances are $Var(X)$ and $Var(Y)$ respectively. Now imagine I want to define a new variable Z that is the sum of the two, $Z = X + Y$ . As it turns out, the variance of $Z$ is equal to $Var(X) + Var(Y)$. This is a very useful property, but it's not true of the other measures that I talk about in this section.

[Additional technical detail[^04-descriptive-statistics-6]]

[^04-descriptive-statistics-6]: The formula that we use to calculate the variance of a set of observations is as follows: $$VAR(X) =\frac{1}{N} \sum_{i=1}^{N} ( X_i - \bar{X} )^2
$$ As you can see, it's basically the same formula that we used to calculate the average absolute deviation, except that instead of using "absolute deviations" we use "squared deviations". It is for this reason that the variance is sometimes referred to as the "mean square deviation". --->

有了基本概念，就用實際資料熟悉變異數的運算。同樣用AFL前五場比賽紀錄練習，請同學用前一節計算平均絕對差異步驟，完成**表4-3**的手算步驟[^04-translation-2]。


[^04-translation-2]: 譯註~這段計算步驟可參考譯者準備的[jamovi檔案](files/AFL Margins_VAR.omv)，下載後以jamovi開啟，觀看計算變項的說明。


<!---Now that we've got the basic idea, let's have a look at a concrete example. Once again, let's use the first five AFL games as our data. If we follow the same approach that we took last time, we end up with the information shown in @tbl-tab4-3. --->

```{r}
#| label: tbl-tab4-3
#| tbl-cap: Measures  of variability for the first five AFL games
#huxtabs[[4]][[3]]
```

<center>表4-3: 使用離均差平方計算資料變異程度</center>


|口語|符號|數值|離均差|離均差平方|
|:---:|:---:|:---:|:---:|:---:|
|符號| $i$ | $X_i$ | $X_i - \bar{X}$  | $(X_i - \bar{X})^2$ |
||1|56|19.4|376.36|
||2|31|-5.6|31.36|
||3|56|19.4|376.36|
||4|8|-28.6|817.96|
||5|32|-4.6|21.16|

最後一欄是五筆資料的差異值平方，接著依公式用手或計算機計算平均，我們會得到變異數是$324.64$。好像大功告成了是不是？那這樣的變異數代表什麼意思？進一步解釋前，請用jamovi計算看看，建議重新匯入`afl.margins`資料變項，並且設定只計算前五項紀錄，然後開啟描述統計模組選單，這次要增加勾選"Variance"計算變異數(見 @fig-fig4-9 )，然後你會發現jamovi的計算結果是$405.80$，難到**表4-3* **的計算步驟是錯誤的？

<!---That last column contains all of our squared deviations, so all we have to do is average them. If we do that by hand, i.e. using a calculator, we end up with a variance of $324.64$. Exciting, isn't it? For the moment, let's ignore the burning question that you're all probably thinking (i.e., what the heck does a variance of $324.64$ actually mean?) and instead talk a bit more about how to do the calculations in jamovi, because this will reveal something very weird. Start a new jamovi session by clicking on the main menu button (three horizontal lines in the top left corner and selecting 'New'. Now type in the first five values from the afl.margins data set in column A ($56$, $31$, $56$, $8$, $32$. Change the variable type to 'Continuous' and under 'Descriptives' click the 'Variance' check box, and you get the same values for variance as the one we calculated by hand ($324.64$). No, wait, you get a completely different answer ($405.80$) - see @fig-fig4-9. That's just weird. Is jamovi broken? Is this a typo? Am I an idiot? --->

```{r}
#| label: fig-fig4-9
#| fig-align: left
#| fig-width: 90
#| fig-cap: 使用jamovi計算資料變項afl.margins前五筆的變異數。
#A screenshot of jamovi showing the Variance for the first 5 values of the afl.margins variable
knitr::include_graphics("images/fig4-9.png")
```

其實按公式筆算是正確的，jamovi的計算也沒問題[^04-descriptive-statistics-7]。解釋jamovi用什麼公式計算變異數很簡單，但是為什麼jamovi要用這個公式就需要花點功夫說明。我們先了解jamovi用什麼公式。前面提到的變異數公式是差異值平方總和除以資料個數$N$，不過jamovi計算的變異數是除以$N - 1$。

[^04-descriptive-statistics-7]: 也許還有第三種計算變異數的方法。

[更多技術細節[^04-descriptive-statistics-8]]

[^04-descriptive-statistics-8]: jamovi計算變異數公式的是： $$\frac{1}{N-1} \sum_{i=1}^{N} ( X_i - \bar{X} )^2$$

那麼為什麼jamovi是用 $N - 1$而非 $N$？畢竟變異數是差異值平方的平均不是嗎？為何不是用資料數值個數$N$做為分母呢？這樣想雖然沒有錯，不過在 @sec-Estimating-unknown-quantities-from-a-sample 我們會討論“描述樣本”與“根據樣本推測母群性質”兩種統計操作的區別。平均數的計算方法在“描述樣本”與“推測母群性質”都是一樣的。但是對於變異數、標準差、還有許多估計變異程度的量數，"樣本“與”母群"的計算方法是不一樣的。正在學習的同學們從這裡開始，必須察覺多數統計實務計算的變異數其實是**樣本變異數**。樣本只是揭露真實世界的一部分而己。這一章學習的描述統計方法其實是“整理樣本的方法”，真實目的是要要估計“母群參數”。不過這樣的轉念對很多同學來說可能要求太高了，我們先接受jamovi計算的統計量數都是正確的，到了 @sec-Estimating-unknown-quantities-from-a-sample 我們會再回來討論這些問題。

好啦，這一節讀起來有些像是燒腦的偵探小說。先請同學們擱置具體理由，接受只要是用jamovi計算的變異數都是用$N-1$除以平方差總和的結果。不過還有一件事需要討論：怎麼解讀變異數的意思？描述統計的功能畢竟是用數字說明資料裡的故事，而且變異數就明明白白的顯示在報表上。但是目前還不能直接用變異數解釋資料的變異程度，原因在於變異數是總計差異值的平方，而任何數值平方之後，就失去測量尺度的數值差異。就拿**表4-3**紀錄的第一場比賽分數，差異值平方是$324.64$來說，這個數字無法說明這筆資料與平均值的差異究竟有多大，因為平方後的數值喪失了原來測量尺度的意義。另外，你也可以想想看，你知道了全班同學的身高平方總和有什麼意義？

<!---
As it happens, the answer is no.[^04-descriptive-statistics-7] It's not a typo, and jamovi is not making a mistake. In fact, it's very simple to explain what jamovi is doing here, but slightly trickier to explain why jamovi is doing it. So let's start with the "what". What jamovi is doing is evaluating a slightly different formula to the one I showed you above. Instead of averaging the squared deviations, which requires you to divide by the number of data points N, jamovi has chosen to divide by $N - 1$.   With the possible exception of the third question.

[Additional technical detail[^04-descriptive-statistics-8]]

[^04-descriptive-statistics-8]: In other words, the formula that jamovi is using is this one: $$\frac{1}{N-1} \sum_{i=1}^{N} ( X_i - \bar{X} )^2$$

So that's the *what*. The real question is why jamovi is dividing by $N - 1$ and not by $N$. After all, the variance is supposed to be the mean squared deviation, right? So shouldn't we be dividing by N, the actual number of observations in the sample? Well, yes, we should. However, as we'll discuss in the chapter on @sec-Estimating-unknown-quantities-from-a-sample, there's a subtle distinction between "describing a sample" and "making guesses about the population from which the sample came". Up to this point, it's been a distinction without a difference. Regardless of whether you're describing a sample or drawing inferences about the population, the mean is calculated exactly the same way. Not so for the variance, or the standard deviation, or for many other measures besides. What I outlined to you initially (i.e., take the actual average, and thus divide by $N$) assumes that you literally intend to calculate the variance of the sample. Most of the time, however, you're not terribly interested in the sample in and of itself. Rather, the sample exists to tell you something about the world. If so, you're actually starting to move away from calculating a "sample statistic" and towards the idea of estimating a "population parameter". However, I'm getting ahead of myself. For now, let's just take it on faith that jamovi knows what it's doing, and we'll revisit the question later on when we talk about estimation in @sec-Estimating-unknown-quantities-from-a-sample.

Okay, one last thing. This section so far has read a bit like a mystery novel. I've shown you how to calculate the variance, described the weird "$N - 1$" thing that jamovi does and hinted at the reason why it's there, but I haven't mentioned the single most important thing. How do you interpret the variance? Descriptive statistics are supposed to describe things, after all, and right now the variance is really just a gibberish number. Unfortunately, the reason why I haven't given you the human-friendly interpretation of the variance is that there really isn't one. This is the most serious problem with the variance. Although it has some elegant mathematical properties that suggest that it really is a fundamental quantity for expressing variation, it's completely useless if you want to communicate with an actual human. Variances are completely uninterpretable in terms of the original variable! All the numbers have been squared and they don't mean anything anymore. This is a huge issue. For instance, according to @tbl-tab4-3, the margin in game 1 was "376.36 points-squared higher than the average margin". This is *exactly* as stupid as it sounds, and so when we calculate a variance of $324.64$ we're in the same situation. I've watched a lot of footy games, and at no time has anyone ever referred to "points squared". It's not a real unit of measurement, and since the variance is expressed in terms of this gibberish unit, it is totally meaningless to a human. --->

### 標準差 {#sec-Standard-deviation}

若是同學學到了這裡，應該都能接受變異數的數學特性，不過要撰寫人類看得到的報告，我們還是要呈現能具體描述變異程度的量數。那要怎麼改造變異數呢？方法很簡單，就是將變異數開根號取得**標準差(standard deviation)**。統計學術語還有“差異平均值之平方根”(mean squared deviation)，或者簡稱RMSD。標準差的數值能以資料尺度解釋變異程度。以AFL資料的實務報告來說，通常會寫“標準差18.01"而不是”變異數324.68“。專業報告規範會提示樣本資料的標準差寫法，像是用小寫s，sd，還有“std dev"等。


[更多技術細節[^04-descriptive-statistics-9]]

[^04-descriptive-statistics-9]: 由於標準差是變異數的開根號，計算公式就是 $$s=\sqrt{\frac{1}{N} \sum_{i=1}^{N} ( X_i - \bar{X} )^2 }$$ 在jamovi的描述統計選單裡，勾選'Variance'下方的'Std. deviation'，就能在報表介面看到176場得分資料的標準差 $26.07$。

不過在前一節變異數的介紹中，我們已經知道jamovi使用的樣本變異數計算公式是除以 $N - 1$，所以樣本標準差同樣是來自這個公式計算結果的開根號。

[更多技術細節[^04-descriptive-statistics-10]]

[^04-descriptive-statistics-10]: 到了 @sec-Estimating-unknown-quantities-from-a-sample 我們會再來討論這個問題。請先記得jamovi計算的樣本標準差，數學記號寫作 $\hat{\sigma}$ ，公式是 $$\hat{\sigma}=\sqrt{\frac{1}{N-1} \sum_{i=1}^{N} ( X_i - \bar{X} )^2}$$

使用標準差解讀變異程度的數學原理很複雜，在此先學一套簡單的規則：一筆資料裡與平均值相差一個標準差的資料大約佔68%；相差兩個標準差的資料大約佔95%；相差三個標準差的資料大約佔99.7%。只要資料繪制出的直方圖接近對稱或”鐘形曲線“，大致能用這套規則解讀資料的變異程度。但是從AFL資料的直方圖( @fig-fig4-2 )來看，似乎不大適用這套規則。根據 @fig-fig4-10 的解說，實際上只有65.3%的得分紀錄，落在AFL資料平均值的前後一個標準差之內。

<!---Okay, suppose that you like the idea of using the variance because of those nice mathematical properties that I haven't talked about, but since you're a human and not a robot you'd like to have a measure that is expressed in the same units as the data itself (i.e., points, not points squared). What should you do? The solution to the problem is obvious! Take the square root of the variance, known as the **標準差(standard deviation)**, also called the "root mean squared deviation", or RMSD. This solves our problem fairly neatly. Whilst nobody has a clue what "a variance of 324.68 points-squared" really means, it's much easier to understand "a standard deviation of 18.01 points" since it's expressed in the original units. It is traditional to refer to the standard deviation of a sample of data as s, though "sd" and "std dev." are also used at times.

[Additional technical detail[^04-descriptive-statistics-9]]

[^04-descriptive-statistics-9]: Because the standard deviation is equal to the square root of the variance, you probably won't be surprised to see that the formula is: $$s=\sqrt{\frac{1}{N} \sum_{i=1}^{N} ( X_i - \bar{X} )^2 }$$ and in jamovi there is a check box for 'Std. deviation' right above the check box for 'Variance'. Selecting this gives a value of $26.07$ for the standard deviation.

However, as you might have guessed from our discussion of the variance, what jamovi actually calculates is slightly different to the formula given above. Just like the we saw with the variance, what jamovi calculates is a version that divides by $N - 1$ rather than $N$.

[Additional technical detail[^04-descriptive-statistics-10]]

[^04-descriptive-statistics-10]: For reasons that will make sense when we return to this topic in @sec-Estimating-unknown-quantities-from-a-sample I'll refer to this new quantity as $\hat{\sigma}$ (read as: "sigma hat"), and the formula for this is: $$\hat{\sigma}=\sqrt{\frac{1}{N-1} \sum_{i=1}^{N} ( X_i - \bar{X} )^2}$$

Interpreting standard deviations is slightly more complex. Because the standard deviation is derived from the variance, and the variance is a quantity that has little to no meaning that makes sense to us humans, the standard deviation doesn't have a simple interpretation. As a consequence, most of us just rely on a simple rule of thumb. In general, you should expect 68% of the data to fall within 1 standard deviation of the mean, 95% of the data to fall within 2 standard deviation of the mean, and 99.7% of the data to fall within 3 standard deviations of the mean. This rule tends to work pretty well most of the time, but it's not exact. It's actually calculated based on an assumption that the histogram is symmetric and "bell shaped". As you can tell from looking at the AFL winning margins histogram in @fig-fig4-2, this isn't exactly true of our data! Even so, the rule is approximately correct. As it turns out, 65.3% of the AFL margins data fall within one standard deviation of the mean. This is shown visually in @fig-fig4-10. --->

### 應該用那種變異量數?

這一節學到了幾種變異量數：全距，四分位數間距，平均絕對差，變異數，以及標準差。各種量數優缺點不同，以下做個小結：

- *全距* 呈現資料的完整變異範圍。極端值無可避免地會決定全距數值大小，除非我們在意資料裡的極端值，報告全距才有用處。
- *四分位數間距* 呈現資料中間一半涵蓋的範圍。數值穩定且與中位數互補。多數研究者愛用。

- *平均絕對差* 呈現所有資料遠離平均值的平均距離。容易解讀但是有些這一節未談到的問題，讓這項量數比較不如標準差受歡迎。研究文獻中不常見到。

- *變異數* 呈現所有資料遠離平均值的平均距離的平方。在數學意義上能優雅解釋資料與平均值的變異，但是因為尺度單位改變，導致不易解讀。除非有數學工具不然不常在報告裡呈現，不過許多統計軟體的後台程序都會計算變異數。

- *標準差* 變異數的開根號。具備同樣的數學特性，但是保留測量尺度所以容易解讀。平均值做為集中量數的報告時常搭配呈現，是最常在研究文獻裡看到的變異數數。

簡而言之，四分位數間距與標準差是最容易解讀而且最常見的變異量數。不過其他量數也有適用的時機。在此介紹以備同學們說不定那一天會真的用到。

<!---
We've discussed quite a few measures of spread: range, IQR, mean absolute deviation, variance and standard deviation; and hinted at their strengths and weaknesses. Here's a quick summary:

-   *Range*. Gives you the full spread of the data. It's very vulnerable to outliers and as a consequence it isn't often used unless you have good reasons to care about the extremes in the data.
-   *Interquartile range*. Tells you where the "middle half" of the data sits. It's pretty robust and complements the median nicely. This is used a lot.
-   *Mean absolute deviation*. Tells you how far "on average" the observations are from the mean. It's very interpretable but has a few minor issues (not discussed here) that make it less attractive to statisticians than the standard deviation. Used sometimes, but not often.
-   *Variance*. Tells you the average squared deviation from the mean. It's mathematically elegant and is probably the "right" way to describe variation around the mean, but it's completely uninterpretable because it doesn't use the same units as the data. Almost never used except as a mathematical tool, but it's buried "under the hood" of a very large number of statistical tools.
-   *Standard deviation*. This is the square root of the variance. It's fairly elegant mathematically and it's expressed in the same units as the data so it can be interpreted pretty well. In situations where the mean is the measure of central tendency, this is the default. This is by far the most popular measure of variation.

In short, the IQR and the standard deviation are easily the two most common measures used to report the variability of the data. But there are situations in which the others are used. I've described all of them in this book because there's a fair chance you'll run into most of these somewhere. --->

```{r}
#| label: fig-fig4-10
#| fig-align: left
#| fig-width: 90
#| fig-cap: 直方圖著色範圍與AFL勝隊得分平均值相差一個標準差，範圍面積約佔65.3%，與正文內提到的68%有些微差異。
#An illustration of the standard deviation from the AFL winning margins data. The shaded bars in the histogram show how much of the data fall within one standard deviation of the mean. In this case, 65.3% of the data set lies within this range, which is pretty consistent with the 'approximately 68% rule' discussed in the main text
knitr::include_graphics("images/fig4-10.png")
```

## 偏態與峰度

有些心理學文獻還會報告兩項描述統計項目：偏態(skew)與峰度(kurtosis)。實務上任何一項出現在報告裡的機會，都不比以上討論過的集中量數與變異量數。偏態稍微重要，所以會在某些領域的文獻經常看到(例如反應時間的測量)，峰度則相當罕見。

<!---There are two more descriptive statistics that you will sometimes see reported in the psychological literature: skew and kurtosis. In practice, neither one is used anywhere near as frequently as the measures of central tendency and variability that we've been talking about. Skew is pretty important, so you do see it mentioned a fair bit, but I've actually never seen kurtosis reported in a scientific article to date. --->

```{r}
#| label: fig-fig4-11
#| fig-align: left
#| fig-width: 90
#| fig-cap: 圖解資料分佈的偏態類型。左圖是負偏態，中間是無偏態，右圖是正偏態。
#An illustration of skewness. On the left we have a negatively skewed data set, in the middle we have a data set with no skew, and on the right we have a positively skewed data set
knitr::include_graphics("images/fig4-11.png")
```

在此我們多認識一些**偏態**在解讀資料的意義。偏態是解釋資料不對稱程度的最常用指標。以 @fig-fig4-11 的展示來看，*負偏態*是多數資料的數值偏高所造成；而*正偏態*則是多數資料的數值偏低才會出現的現象。因此一筆資料大於平均值的數值佔多數，分析者會自然想到資料分佈是正偏態，偏態指數會是正值；相反的情況就會是負偏態，偏態指數會是負值。資料是對稱分佈的偏態指數則為0。


[更多技術細節[^04-descriptive-statistics-11]]

[^04-descriptive-statistics-11]: 偏態指數的常用公式是 $$skewness(X)=\frac{1}{N \hat{\sigma}^3} \sum_{i=1}^{N} ( X_i - \bar{X})^3$$ 公式裡的 N 代表資料個數, $\bar{X}$ 是樣本平均值， $\hat{\sigma}$ 是樣本標準差 (分母是"$N - 1$" 的那一種)

同學們也可以使用jamovi計算偏態，同樣在描述統計模組選單就有"skweness"可以勾選。資料變項`afl.margins`的偏態指數是0.780。使用偏態指數除以標準誤(Std. error)得到的數值，可以表示一筆資料的“偏態程度”。有個簡易判斷法則(特別是個數少於50的資料)：這個數值小於或等於2低表示偏態並不明顯，大於2就表示偏態程度會影響統計分析的結果。雖然這樣的判斷法則還不是學界共識，不過AFL的這筆資料偏態程度是 $\frac{0.780}{0.183} = 4.262$ 。

峰度的報告雖然相當罕見，不過還是值得了解一下。峰度指標是描述資料分佈曲線的寬窄程度，如同 @fig-fig4-12 的圖解，常態分佈曲線的峰度指數是0，峰度指數是正是負顯示曲線是低闊峰(左圖)或高狹峰(右圖)。

<!---
Since it's the more interesting of the two, let's start by talking about the **偏態(skewness)**. Skewness is basically a measure of asymmetry and the easiest way to explain it is by drawing some pictures. As @fig-fig4-11 illustrates, if the data tend to have a lot of extreme small values (i.e., the lower tail is "longer" than the upper tail) and not so many extremely large values (left panel) then we say that the data are *negatively skewed*. On the other hand, if there are more extremely large values than extremely small ones (right panel) we say that the data are positively skewed. That's the qualitative idea behind skewness. If there are relatively more values that are far greater than the mean, the distribution is positively skewed or right skewed, with a tail stretching to the right. Negative or left skew is the opposite. A symmetric distribution has a skewness of 0. The skewness value for a positively skewed distribution is positive, and a negative value for a negatively skewed distribution.

[Additional technical detail[^04-descriptive-statistics-11]]

[^04-descriptive-statistics-11]: One formula for the skewness of a data set is as follows $$skewness(X)=\frac{1}{N \hat{\sigma}^3} \sum_{i=1}^{N} ( X_i - \bar{X})^3$$ where N is the number of observations, $\bar{X}$ is the sample mean, and $\hat{\sigma}$ is the standard deviation (the "divide by $N - 1$" version, that is).

Perhaps more helpfully, you can use jamovi to calculate skewness: it's a check box in the 'Statistics' options under 'Exploration' - 'Descriptives'. For the afl.margins variable, the skewness figure is $0.780$. If you divide the skewness estimate by the Std. error for skewness you have an indication of how skewed the data is. Especially in small samples (N $<$ 50), one rule of thumb suggests that a value of 2 or less can mean that the data is not very skewed, and a value of over 2 that there is sufficient skew in the data to possibly limit its use in some statistical analyses. Though there is no clear agreement on this interpretation. That said, this does indicate that the AFL winning margins data is somewhat skewed ($\frac{0.780}{0.183} = 4.262$).

The final measure that is sometimes referred to, though very rarely in practice, is the kurtosis of a data set. Put simply, kurtosis is a measure of how thin or fat the tails of a distribution are, as illustrated in @fig-fig4-12. By convention, we say that the "normal curve" (black lines) has zero kurtosis, so the degree of kurtosis is assessed relative to this curve. --->

```{r}
#| label: fig-fig4-12
#| fig-align: left
#| fig-width: 90
#| fig-cap: 圖解資料分佈的峰度。左圖的低闊峰分佈呈現資料往兩側分佈(峰度指數= -.95)；中間的常峰態分佈呈現資料分佈貼合常態分佈曲線(峰度指數= 0)；右圖的高狹峰分佈呈現資料往中央集中(峰度指數= 2.12)。峰度指數是根據各資料點偏離圖中黑色曲線的程度估算。
#An illustration of kurtosis. On the left, we have a 'platykurtic' distribution (kurtosis = -.95) meaning that the distribution has 'thin' or flat tails. In the middle we have a 'mesokurtic' distribution (kurtosis is almost exactly 0) which means that the tails are neither thin or fat. Finally, on the right, we have a 'leptokurtic' distribution (kurtosis = 2.12) indicating that the distribution has 'fat' tails. Note that kurtosis is measured with respect to a normal curve (black line)
knitr::include_graphics("images/fig4-12.png")
```

@fig-fig4-12 的左圖是平坦的資料分佈，稱為"低闊峰"是因為資料往雙側分佈而造成，峰度指數是負值。右圖的資料分佈兩側很寬，稱為"高狹峰"是因為資料往雙側分佈而造成，峰度指數是正值。中間的資料分佈不窄也不寬，所以稱為"常峰態"，峰度指數是0。 **表4-4**  整理三種峰度的稱呼與及指數數值說明：

<!---In this Figure, the data on the left have a pretty flat distribution, with thin tails, so the kurtosis is negative and we call the data platykurtic. The data on the right have a distribution with fat tails, so the kurtosis is positive and we say that the data is leptokurtic. But the data in the middle have neither think or fat tails, so we say that it is mesokurtic and has kurtosis zero. This is summarised in @tbl-tab4-4: --->

```{r}
#| label: tbl-tab4-4
#| tbl-cap: 峰度的稱呼與指數數值說明
#huxtabs[[4]][[4]]
```

<center>表4-4: 峰度的稱呼與指數數值說明</center>

|口語|術語|峰度指數|
|:---:|:---:|:---:|
|分佈尾端太廋|低闊峰(platykurtic) |指數為負值|
|分佈尾端均勻|常態峰(mesokurtic)|指數為零|
|分佈尾端太肥|高狹峰(leptokurtic)|指數為正值|

[更多技術細節[^04-descriptive-statistics-12]]

[^04-descriptive-statistics-12]: 峰度的計算公式很接近變異數與偏態，除了變異數是計算平方，偏態計算立方，峰度的公式要計算四次方： $^b$ $$kurtosis(X)=\frac{1}{N \hat{\sigma}^4} \sum_{i=1}^{N} ( X_i - \bar{X} )^4 - 3$$ 當然，大多數同學應該沒有太大興趣知道。 <br />---<br /> $^b$ "-3"是校正用常數，確保常峰態的數值為0。在公式裡似乎畫蛇添足，其實背後有相當充分的數學原則。

最後不免俗地提醒同學，jamovi的描述統計模組選單有計算峰度“kurtosis”的選項，只要開啟就會在報表看到AFL資料變項的峰度是0.101，除以標準誤的話是0.364，嚴格來說不算是"高狹峰"。


<!---[Additional technical detail[^04-descriptive-statistics-12]]

[^04-descriptive-statistics-12]: The equation for kurtosis is pretty similar in spirit to the formulas we've seen already for the variance and the skewness. Except that where the variance involved squared deviations and the skewness involved cubed deviations, the kurtosis involves raising the deviations to the fourth power:$^b$ $$kurtosis(X)=\frac{1}{N \hat{\sigma}^4} \sum_{i=1}^{N} ( X_i - \bar{X} )^4 - 3$$ I know, it's not terribly interesting to me either. <br />---<br /> $^b$ The "-3" part is something that statisticians tack on to ensure that the normal curve has kurtosis zero. It looks a bit stupid, just sticking a "-3" at the end of the formula, but there are good mathematical reasons for doing this.

More to the point, jamovi has a check box for kurtosis just below the check box for skewness, and this gives a value for kurtosis of $0.101$ with a standard error of $0.364$. This means that the AFL winning margins data has only a small kurtosis, which is ok. --->

## 分組描述統計

往後許多實例要根據某個分組變項，對其他變項進行分組描述統計。使用jamovi分組描述統計只是小菜一碟。例如根據臨床治療方式，對收集到的臨床試驗資料進行分組描述統計。在這一節我們用另一批資料學習。請開啟學習資料庫裡的"Clinical Trial"資料集，之後在 @sec-Comparing-several-means-one-way-ANOVA 會詳細這一批資料的來歷。開啟後的試算表介面如同 @fig-fig4-13 :

先看一下名義變項`drug`的數值：有安慰劑(placebo)，還有”anxifree"和“joyzepam”，三種藥各有六個受測者。另一個名義變項`therapy`代表治療方法，其中有九位受測者接受認知行為治療(CBT)，另外九位並未接受任何心理治療。比照之前的操作，在描述統計模組選單裡，單獨將連續尺度變項`mood.gain`放到Variables框裡，就會看到報表介面出現這個變項的平均值0.88。雖然我們還不知道這個變項的測量尺度是什麼意義，至少看起來能做些統計工作。

接著可以試試看分組描述統計，請將`therapy`放到"Split by"，並且勾選Std. deviation, Skewness, Kurtosis等項目，看看會不會出現如同 @fig-fig4-14 的結果。

<!---It is very commonly the case that you find yourself needing to look at descriptive statistics broken down by some grouping variable. This is pretty easy to do in jamovi. For instance, let's say I want to look at the descriptive statistics for some clinical trial data, broken down separately by therapy type. This is a new data set, one that you've never seen before. The data is stored in the clinicaltrial.csv file and we'll use it a lot later on in @sec-Comparing-several-means-one-way-ANOVA (you can find a complete description of the data at the start of that chapter). Let's load it and see what we've got (@fig-fig4-13):

Evidently there were three drugs: a placebo, something called "anxifree" and something called "joyzepam", and there were 6 people administered each drug. There were 9 people treated using cognitive behavioural therapy (CBT) and 9 people who received no psychological treatment. And we can see from looking at the 'Descriptives' of the mood.gain variable that most people did show a mood gain ($mean = 0.88$), though without knowing what the scale is here it's hard to say much more than that. Still, that's not too bad. Overall I feel that I learned something from that.

We can also go ahead and look at some other descriptive statistics, and this time separately for each type of therapy. In jamovi, check Std. deviation, Skewness and Kurtosis in the 'Statistics' options. At the same time, transfer the therapy variable into the 'Split by' box, and you should get something like @fig-fig4-14. --->

```{r}
#| label: fig-fig4-13
#| fig-align: left
#| fig-width: 90
#| fig-cap: 匯入 clinicaltrial.csv 的jamovi試算表介面擷圖。
#A screenshot of jamovi showing the variables stored in the clinicaltrial.csv file
knitr::include_graphics("images/fig4-13.png")
```

如果用不只一種分組變項會看到什麼結果呢？試試組合`drug`與`theropy`兩個變項的分組描述統計結果會是什麼。只要將`drug`放到"Split by"就知道了。分組描述統計的操作很容易，不過如果資料不多，分析結果很難說有什麼意義。有時候因為資料太少，報表會出現”NaN"或“Inf"等記號[^04-descriptive-statistics-13]。

[^04-descriptive-statistics-13]: 如果計算得到的數值太小或太大，jamovi會自動切換成以”指數模式"顯示。像是6.51e-4是代表簡化小數點後四位之前的0，所以這個數值的真面目是0.000651。如果是6.51e-4，代表簡化小數點前4位的0，所以這個數值的真面目是65,100.00。這種方式可以節省報表空間，想像6.51e-16的真實數值要寫多少0。

<!---What if you have multiple grouping variables? Suppose you want to look at the average mood gain separately for all possible combinations of drug and therapy. It is possible to do this by adding another variable, drug, into the 'Split by' box. Easy peasy, though sometimes if you split too much there isn't enough data in each breakdown combination to make meaningful calculations. In this case jamovi tells you this by stating something like NaN or Inf. [^04-descriptive-statistics-13]

[^04-descriptive-statistics-13]: Sometimes jamovi will also present numbers in an unusual way. If a number is very small, or very large, then jamovi switches to an exponential form for numbers. For example 6.51e-4 is the same as saying that the decimal point is moved 4 places to the left, so the actual number is 0.000651. If there is a plus sign (i.e. 6.51e+4 then the decimal point is moved to the right, i.e. 65,100.00. Usually only very small or very large numbers are expressed in this way, for example 6.51e-16, which would be quite unwieldy to write out in the normal way. --->

```{r}
#| label: fig-fig4-14
#| fig-align: left
#| fig-width: 90
#| fig-cap: 使用jamovi以治療方式進行分組描述統計的擷圖。
#A screenshot of jamovi showing Descriptives split by therapy type
knitr::include_graphics("images/fig4-14.png")
```

## 標準分數 {#sec-Standard-scores}

想像同學們今天一起做了一份“壞脾氣量表”，量表一供有50項二選一單選題，答“是"就得1分。假設這項量表已經有非常龐大的常模樣本，常模資料分佈相當接近常態分佈，平均得分為17分，標準差是5。今天某位同學的得分是35分，那麼他的壞脾氣程度有多少？也許有人會說可以用 $\frac{35}{50}$ 或者 70% 代表這位同學的壞脾氣程度。但是想一想用這些數值代表一個人的壞脾氣都有點奇怪。只要編製測驗的人改一下題目敘述，受測者的答題反應就會改變，全部樣本的平均分數也會變高或變低。因此70%只是代表這位同學在*某版本的壞脾氣量表*得到的分數，所以得分比例並不能提供什麼有用的資訊。

比較這位同學的分數和其他人的分數，是個簡單的描述壞脾氣程度的方法。如果編製者的常模是收集了一百萬份樣本，只有159人的壞脾氣得分高於35分，也就是說這位同學的壞脾氣排序是前0.016%。這麼一來就比較能解釋資料了。轉換原始分數為可相對比較的分數，這種程序稱為“標準化”(standardisation)。將原始分數轉換為相對百分比相當簡單，但是百分比有個限制：如果常模樣本只有1000人，平均值是16，標準差是5，那麼35分是所有樣本得分的第一高分，無法說明這位同學的脾氣有多壞。

不過還不用絕望。我們可以將原始評量得分轉換為**標準分數(standard score)**，也是一般報告稱呼的z分數。標準分數的定義是原始分數與平均分數的差異相當於多少標準差。這句話可以寫成像以下的數學公式：

$$
\text{標準分數} = \frac{\text{原始分數} - 平均數}{\text{標準差}}
$$

[更多技術細節[^04-descriptive-statistics-14]]

[^04-descriptive-statistics-14]: z分數真正的數學公式是 $$z_i =\frac{X_i - \bar{X}}{\hat{\sigma}}$$

現在我們可以將這位同學的評量得分轉換為標準化壞脾氣分數。

$$ z =\frac{35 - 17}{5} = 3.6 $$ 要解釋這個分數的意義，請回憶 @sec-Standard-deviation 提到的簡易判斷法則：在常態分佈的資料中，比平均值大於3個標準差的數值，大約佔99.7%。所以3.6代表這位同學真的是位壞脾氣的人物。如果有興趣詳細探究，3.6代表在樣本中高於99.98%的受測者。

除了能了解原始分數在龐大樣本裡的相對高低，標準分數還有另一種有用的功能：可以比較同一位受測者的不同份量表分數。想像有這位同學後來做了另一份"外向度量表“，一共有24題。外向度量表的常模樣本平均值是13，樣本標準差是4，而這位同學的原始外向度得分是2。這個分數無法直接與他的壞脾氣量表得分35分，硬要比的話就變成拿蘋果和橘子比較了。

如果用標準分數就不同了。我們已經知道他的壞脾氣標準分數$(z = \frac{(35-17)}{5}=3.6)$ 還有外向度標準分數 $(z = \frac{(2-13)}{4}=-2.75)$。兩項標準分數是指向原始數值在各自常模樣本的相對位置，才可以互相比較[^04-descriptive-statistics-15]。這位同學明顯比大多數人不外向($z = -2.75$)，脾氣也比大多數人壞 ($z=3.6$)。而且標準分數的絕對值說明，這位同學給人壞脾氣的印象($3.6$)，明顯高於他不夠外向($2.75$)。我們能這樣斷言，是因為z分數是指出資料在變項代表的群體之間相對位置，如此才能比較不同變項的標準分數。

[^04-descriptive-statistics-15]: 任何統計學講師都會不厭其煩地提醒：變項A的標準差與變項B的標準差是不一樣的單位。同學可以運用常識想清楚z分數所代表的意義。

<!---Suppose my friend is putting together a new questionnaire intended to measure "grumpiness". The survey has $50$ questions which you can answer in a grumpy way or not. Across a big sample (hypothetically, let's imagine a million people or so!) the data are fairly normally distributed, with the mean grumpiness score being $17$ out of $50$ questions answered in a grumpy way, and the standard deviation is $5$. In contrast, when I take the questionnaire I answer $35$ out of $50$ questions in a grumpy way. So, how grumpy am I? One way to think about it would be to say that I have grumpiness of $\frac{35}{50}$, so you might say that I'm 70% grumpy. But that's a bit weird, when you think about it. If my friend had phrased her questions a bit differently people might have answered them in a different way, so the overall distribution of answers could easily move up or down depending on the precise way in which the questions were asked. So, I'm only 70% grumpy *with respect to this set of survey questions*. Even if it's a very good questionnaire this isn't very a informative statement.

A simpler way around this is to describe my grumpiness by comparing me to other people. Shockingly, out of my friend's sample of $1,000,000$ people, only $159$ people were as grumpy as me (that's not at all unrealistic, frankly) suggesting that I'm in the top 0.016% of people for grumpiness. This makes much more sense than trying to interpret the raw data. This idea, that we should describe my grumpiness in terms of the overall distribution of the grumpiness of humans, is the qualitative idea that standardisation attempts to get at. One way to do this is to do exactly what I just did and describe everything in terms of percentiles. However, the problem with doing this is that "it's lonely at the top". Suppose that my friend had only collected a sample of $1000$ people (still a pretty big sample for the purposes of testing a new questionnaire, I'd like to add), and this time gotten, let's say, a mean of $16$ out of $50$ with a standard deviation of $5$. The problem is that almost certainly not a single person in that sample would be as grumpy as me.

However, all is not lost. A different approach is to convert my grumpiness score into a **標準分數(standard score)**, also referred to as a z-score. The standard score is defined as the number of standard deviations above the mean that my grumpiness score lies. To phrase it in "pseudomaths" the standard score is calculated like this:

$$
\text{standard score} = \frac{\text{raw score} - mean}{\text{standard deviation}}
$$

[Additional technical detail[^04-descriptive-statistics-14]]

[^04-descriptive-statistics-14]: In actual maths, the equation for the z-score is $$z_i =\frac{X_i - \bar{X}}{\hat{\sigma}}$$

So, going back to the grumpiness data, we can now transform Dani's raw grumpiness into a standardised grumpiness score.

$$ z =\frac{35 - 17}{5} = 3.6 $$ To interpret this value, recall the rough heuristic that I provided in @sec-Standard-deviation in which I noted that 99.7% of values are expected to lie within 3 standard deviations of the mean. So the fact that my grumpiness corresponds to a z score of 3.6 indicates that I'm very grumpy indeed. In fact this suggests that I'm grumpier than 99.98% of people. Sounds about right.

In addition to allowing you to interpret a raw score in relation to a larger population (and thereby allowing you to make sense of variables that lie on arbitrary scales), standard scores serve a second useful function. Standard scores can be compared to one another in situations where the raw scores can't. Suppose, for instance, my friend also had another questionnaire that measured extraversion using a $24$ item questionnaire. The overall mean for this measure turns out to be 13 with standard deviation $4$, and I scored a $2$. As you can imagine, it doesn't make a lot of sense to try to compare my raw score of $2$ on the extraversion questionnaire to my raw score of 35 on the grumpiness questionnaire. The raw scores for the two variables are "about" fundamentally different things, so this would be like comparing apples to oranges.

What about the standard scores? Well, this is a little different. If we calculate the standard scores we get $(z = \frac{(35-17)}{5}=3.6)$ for grumpiness and $(z = \frac{(2-13)}{4}=-2.75)$ for extraversion. These two numbers can be compared to each other.[^04-descriptive-statistics-15] I'm much less extraverted than most people ($z = -2.75$) and much grumpier than most people ($z=3.6$). But the extent of my unusualness is much more extreme for grumpiness, since $3.6$ is a bigger number than $2.75$. Because each standardised score is a statement about where an observation falls relative to its own population, it is possible to compare standardised scores across completely different variables.

[^04-descriptive-statistics-15]: Though some caution is usually warranted. It's not always the case that one standard deviation on variable A corresponds to the same "kind" of thing as one standard deviation on variable B. Use common sense when trying to determine whether or not the z scores of two variables can be meaningfully compared--->

## 本章小結

任何資料分析作業都是從最基本的描述統計開始，而且比起推論統計學習門檻較低。因此本書比照其他教科書由描述統計開始。這一章的各主題有以下重點：

- [集中量數](04-Descriptive-statistics.html#%E9%9B%86%E4%B8%AD%E9%87%8F%E6%95%B8) 集中量數顯示資料在幾何空間的所在位置。各種論文通常會報告平均值、中位數或眾數其中一種集中量數。
- [變異量數](04-Descriptive-statistics.html#sec-Measures-of-variability) 變異量數顯示資料在幾何空間的離散範圍。常用的變異量數有全距、四分位數間距、平均絕對差、變異數、標準差。
- [偏態與峰度](04-Descriptive-statistics.html#%E5%81%8F%E6%85%8B%E8%88%87%E5%B3%B0%E5%BA%A6) 分析作業也會關切變項資料分配的對稱程度(偏態)，以及寬窄程度(峰度)。
- [分組描述統計](04-Descriptive-statistics.html#%E5%88%86%E7%B5%84%E6%8F%8F%E8%BF%B0%E7%B5%B1%E8%A8%88) 分組統計是jamovi的基本功能，值得學習如何設定分組用變項。
- [標準分數](04-Descriptive-statistics.html#sec-Standard-scores) z分數放在這一章有些微妙，因為能用於描述統計，也能用於推論統計。請務必學好這一節的示範重點，之後的章節還會用到。

下一章我們將學習如何繪製統計圖，似乎是輕鬆有趣的單元。結束前我想提醒一點，傳統統計課給描述統計的講授時間比例，大約只有推論統計的1/8或1/9，這是因為後者內容比較複雜且難學。不過這樣的安排很容易讓同學輕忽安排易讀的描述統計，也是重要的實務工作。請切記...

<!---Calculating some basic descriptive statistics is one of the very first things you do when analysing real data, and descriptive statistics are much simpler to understand than inferential statistics, so like every other statistics textbook I've started with descriptives. In this chapter, we talked about the following topics:

-   [Measures of central tendency]. Broadly speaking, central tendency measures tell you where the data are. There's three measures that are typically reported in the literature: the mean, median and mode.
-   [Measures of variability]. In contrast, measures of variability tell you about how "spread out" the data are. The key measures are: range, standard deviation, and interquartile range.
-   [Skew and kurtosis]. We also looked at assymetry in a variable's distribution (skew) and thin or fat tailed distributions (kurtosis).
-   [Descriptive statistics separately for each group]. Since this book focuses on doing data analysis in jamovi, we spent a bit of time talking about how descriptive statistics are computed for different subgroups.
-   [Standard scores]. The z-score is a slightly unusual beast. It's not quite a descriptive statistic, and not quite an inference. Make sure you understand this section. It'll come up again later.

In the next Chapter we'll move on to a discussion of how to draw pictures! Everyone loves a pretty picture, right? But before we do, I want to end on an important point. A traditional first course in statistics spends only a small proportion of the class on descriptive statistics, maybe one or two lectures at most. The vast majority of the lecturer's time is spent on inferential statistics because that's where all the hard stuff is. That makes sense, but it hides the practical everyday importance of choosing good descriptives. With that in mind...--->
